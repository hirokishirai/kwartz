.JA	●プレゼンテーションパターン	| pattern
.EN	.$ Presentation Pattern		| pattern
.	
.JA	Kwartz-phpは、「プレゼンテーションデータとプレゼンテーションロジックの分離」という概念を初めて実現したテンプレートシステムです。
.JA	またプレゼンテーションデータとプレゼンテーションロジックとをうまく分離するためのテクニックが存在します。
.JA	これは「プレゼンテーションパターン」と呼ばれます{{(「プレゼンテーションパターン」という名前がついていますが、これらのテクニックはプレゼンテーション層だけに限定されるわけではありません。しかし最もよく使われるのはプレゼンテーション層においてであるため、このような名前にしています。)}}。
.JA	この章では、プレゼンテーションパターンをいくつか紹介します。
.EN	Kwartz-php is the first template system which realized the concept of 'Separation of Presentation Data and Presentation Logic.'
.EN	There are several techniques to help you to separate presentation logic and presentation data excellently.
.EN	These techniques are called 'Presentation Patterns.'{{('Presentation Patterns' are not limited in Presentation Layer. They are also useful in other domain. But the most popular domain in which these patterns are used is the Presentation Layer, so they are named 'Presentation Patterns.')}}
.EN	This section shows several Presentation Patterns.
.JA	.#この章では、プレゼンテーションデータとプレゼンテーションロジックをうまく分離するための、便利なパターンを紹介します。
.JA	.#この章ではそれらを紹介します。
.EN	.#There are several patterns in the presentation layer which help you to separate presentation data and presentation logic excellently.
.EN	.#This section shows these great patterns.
.	
.	
.JA	◎置換			| pattern-replacement
.JA	.#◎式による置換
.EN	.$$ Replacement		| pattern-prelacement
.EN	.#$$ Replacement (by Expression)
.	
.JA	エレメントを、変数や式の値で置き換えることができます。
.EN	You can replace the element with the value of a variable or an expression.
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- teq-replace2.pdata
.	Hello <span {{*id="mark:user"*}}>World</span>!
.	.--------------------
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- teq-replace2.plogic
.	element user {
.JA	  {{*echo $username;*}}    ## エレメントのかわりに変数$usernameを出力する
.EN	  {{*echo $username;*}}    ## print the value of $username instead of the element
.	}
.	.--------------------
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/teq-replace2.plogic guide.d/teq-replace2.pdata
.	.--------------------
.	
.	
.JA	同様に、タグは残したままエレメントの内容だけを置き換えることができます。
.EN	You can also replace only the content of the element in the same way.
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- teq-replace1.pdata
.	<h1 {{*id="mark:title"*}}>Example</h1>
.	.--------------------
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- teq-replace1.plogic
.	element title {
.	  @stag;
.JA	  {{*echo $title;*}}     ## 内容(@cont)のかわりに$titleを出力する
.EN	  {{*echo $title;*}}     ## print $title instead of content
.	  @etag;
.	}
.	.--------------------
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/teq-replace1.plogic guide.d/teq-replace1.pdata
.	.--------------------
.	
.	
.JA	なおKwartz-phpでは、式の値で内容を置き換えるための機能を用意しています。
.JA	そのためには、プレゼンテーションデータで「{{,kd:php="value({{/expression/}})",}}」とします。
.JA	こうすると、プレゼンテーションロジックを書くことなしに、上と同じ出力用スクリプトが得られます。
.EN	Kwartz-php provides you a function to replace the content with expression's value easily.
.EN	{{,kd:php="value({{/expression/}})",}} replaces the content with the value of {{/expression/}}.
.EN	You can get the same output script as the above without a presentation logic file.
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.--------------------
.	<h1 {{*kd:php="value($title)"*}}>Example</h1>
.	.--------------------
.	
.JA	このkd:php属性によるコマンドをディレクティブといいます。
.JA	ディレクティブとは、プレゼンテーションデータ中にプレゼンテーションロジックを埋め込むための機能です。
.JA	value()ディレクティブは内容を式の値で置き換えるものですが、他に繰り返しや条件分岐もあります。
.JA	詳しくはリファレンスマニュアルをご覧ください。
.EN	This is one of the 'directives'.
.EN	Directives are commands to embed presentation logics into presentation data.
.EN	Directives are described with the {{,kd:php,}} attribute in Kwartz-php.
.EN	Directive {{,value(),}} provides a function to replace the content with expression's value.
.EN	There are several directives such as iteration and conditional branching.
.EN	See the reference manual for details.
.	
.	
.	
.JA	◎交換			| pattern-substitution
.JA	.#◎他のエレメントによる置換
.EN	.$$ Substitution	| pattern-substitution
.EN	.#$$ Replacement by Other Element
.	
.JA	エレメントを別のエレメントに交換することができます。
.EN	You can substitute the element with other element.
.	
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- teq-substitute.pdata
.	<div {{*id="mark:links"*}}>
.	 <a href="/">HOME</a> | <a href="/doc">Document</a> | <a href="/faq">FAQ</a>
.	</div>
.	
.	<p>Welcome to my Home Page!</p>
.	
.	<div {{*id="mark:links2"*}}>
.	  Home | Document | FAQ
.	</div>
.	.--------------------
.	
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- teq-substitute.plogic
.	element links2 {
.JA	  {{*@element_links;*}}   ## エレメントlins2をエレメントlinksで置き換える
.EN	  {{*@element_links;*}}   ## substitute the element 'links2' with the element 'links'
.	}
.	.--------------------
.	
.JA	ここで「{{,@element_{{/name/}},}}」は、「{{,id="mark:{{/name/}}",}}」や「{{,id="{{/name/}}",}}」でマーキングされたエレメントを表しています。
.EN	{{,@element_{{/name/}},}} represents the element which is marked by {{,id="mark:{{/name/}}",}} or {{,id="{{/name/}}",}}.
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/teq-substitute.plogic guide.d/teq-substitute.pdata
.	.--------------------
.	
.JA	このパターンは、ある場所で定義したエレメントを別の場所で再使用するのに便利です。
.EN	This pattern is very useful to reuse the element in other place.
.	
.	.#なおKwartz-phpでは、エレメントを別のエレメントで置き換えるためのディレクティブ{{,replace(),}}を用意しています。
.	.#これを用いると、プレゼンテーションロジックファイルなしで上と同じ出力用スクリプトを得ることができます。
.	.#Kwartz-php provieds the directive {{,replace(),}} which replaces the element with other element.
.	.#You can get the same output script without presentation logic file if you use this directive.
.	.#
.	.#.-------------------- teq-replace4.pdata
.	.#<div id="mark:links">
.	.# <a href="/">HOME</a> | <a href="/doc">Document</a> | <a href="/faq">FAQ</a>
.	.#</div>
.	.#
.	.#<p>Welcome to my Home Page!</p>
.	.#
.	.#<div {{*kd:php="replace(links)"*}}>
.	.#  Home | Document | FAQ
.	.#</div>
.	.#.--------------------
.	
.	
.	
.JA	◎削除		| pattern-deletion
.EN	.$$ Deletion	| pattern-deletion
.	
.JA	エレメントの定義において、「{{,@stag,}}」と「{{,@etag,}}」をコメントアウトすれば、開始タグと終了タグを削除したことになります。
.JA	また「{{,@cont,}}」もコメントアウトすれば、エレメント全体を削除したことになります。
.EN	You can delete the start tag and the end tag by commenting out {{,@stag,}} and {{,@etag,}} in the element definition.
.EN	You can delete the element whole if you commented out {{,@cont,}} in addition to {{,@stag,}} and {{,@etag,}}.
.	
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- teq-delete.pdata
.	<p id="mark:dummy">
.	  This is a pen.
.	</p>
.	.--------------------
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- teq-delete.plogic
.	element dummy {
.	  {{*##*}} @stag;
.	  {{*##*}} @cont;
.	  {{*##*}} @etag;
.	}
.	.--------------------
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.JA	              ## 何も出力されない
.EN	              ## Nothis is printed.
.	.--------------------
.	
.JA	これを用いると、HTMLファイル中にいくらでもダミーデータを含めることができるので、大変便利です。
.EN	This pattern is very useful to delete dummy elements in HTML file.
.	
.JA	ある条件のときだけエレメントを削除するには次のようにします。
.EN	The following is an example to delete the element according to a condition.
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- teq-delete2.pdata
.	<a href="@{$next_url}@" {{*id="mark:link"*}}>
.	  Next Page&lt;&lt;
.	</a>
.	.--------------------
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- teq-delete2.plogic
.	element link {
.	  {{*if ($next_url != null) {*}}
.	    @stag;
.	    @cont;
.	    @etag;
.	  {{*}*}}
.	}
.	.--------------------
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/teq-delete2.plogic guide.d/teq-delete2.pdata
.	.--------------------
.	
.JA	また内容を残したまま、タグだけを削除することもできます。
.EN	You can delete only the start tag and the end tag, leaving the content.
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- teq-delete3.plogic
.	element link {
.	  {{*if ($next_url != null) {*}}
.	    @stag;
.	    @cont;
.	    @etag;
.	  {{*} else {*}}
.	    {{*##*}}@stag;
.	    @cont;
.	    {{*##*}}@etag;
.	  {{*}*}}
.	}
.	.--------------------
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/teq-delete3.plogic guide.d/teq-delete2.pdata
.	.--------------------
.	
.JA	なおエレメントを削除するためのディレクティブ{{,dummy,}}が用意されています。
.JA	このディレクティブが指定されたエレメントは、出力されません。
.EN	Kwartz-php provides a directive {{,dummy,}} which suppress the output of the element.
.EN	The element which has a directive {{,dummy,}} is ignored by Kwartz-php.
.	
.	.--------------------
.	<p {{*kd:php="dummy"*}}>
.	  This is a dummy element.
.	</p>
.	.--------------------
.	
.	
.JA	◎繰り返し	| pattern-iteration
.EN	.$$ Iteration	| patetrn-iteration
.	
.JA	Kwartz-phpでは、次のような繰り返しを行うことができます。
.JA	.* エレメント全体を繰り返す
.JA	.* 内容だけを繰り返す。タグは1回だけ出力する。
.JA	.* 内容だけを繰り返す。タグは出力しない。
.EN	There are several situation in the iteration.
.EN	.* Iterate the element.
.EN	.* Iterate the content. Start/End tags are printed once.
.EN	.* Iterate the content. Start/End tags are not printed.
.	
.JA	エレメント全体を繰り返す：
.EN	Iterating the element:
.	.-------------------- teq-iterate1.plogic
.	element name {
.	  {{*foreach ($list as $item) {*}}
.	    @stag;
.	    @cont;
.	    @etag;
.	  {{*}*}}
.	}
.	.--------------------
.	
.JA	内容だけを繰り返す。タグは1回だけ出力する。
.EN	Iterating the content, with printng the start/end tags once.
.	.-------------------- teq-iterate2.plogic
.	element name {
.	  @stag;
.	  {{*foreach ($list as $item) {*}}
.	    @cont;
.	  {{*}*}}
.	  @etag;
.	}
.	.--------------------
.	
.JA	内容だけを繰り返し、タグは出力しない。
.EN	Iterating the content, ignoreing the start/end tags.
.	.-------------------- teq-iterate3.plogic
.	element name {
.	  {{*##*}}@stag;
.	  {{*foreach ($list as $item) {*}}
.	    @cont;
.	  {{*}*}}
.	  {{*##*}}@etag;
.	}
.	.--------------------
.	
.	
.JA	もちろん、繰り返し中に条件分岐や代入など、複雑なロジックを入れても構いません。
.JA	次の例は、奇数行と偶数行とで色を変えたテーブルです。
.JA	.* 「{{,kd:php="attr('bgcolor'=>$color)",}}」は、属性bgcolorの値として変数$colorを用いるためのディレクティブです。
.JA	.* 「{{,kd:php="value($user)",}}」は、そのエレメントの内容を変数$userの値で置き換えるためのディレクティブです。
.JA	.* 「{{,kd:php="dummy",}}」は、ダミーエレメントを出力しないためのディレクティブです。
.EN	It is able to contain conditional branchings or assignments in the iteration.
.EN	The following is an example of a table with colored borders.
.EN	.* {{,kd:php="attr('bgcolor'=>$color)",}} is a directive to replace the bgcolor attribute with the value of $color.
.EN	.* {{,kd:php="value($user)",}} is a directive to replace the content with the value of $user.
.EN	.* {{,kd:php="dummy",}} is a directive which represents that the element is a dummy and Kwartz-php ignores it.
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- teq-iterate4.pdata
.	<table>
.	  <tbody {{*id="mark:user_list"*}}>
.	    <tr bgcolor="#CCCCFF" {{*kd:php="attr('bgcolor'=>$color)"*}}>
.	      <td {{*kd:php="value($ctr)"*}}>1</td>
.	      <td {{*kd:php="value($user)"*}}>Foo</td>
.	    </tr>
.	    <tr bgcolor="#FFCCCC" {{*kd:php="dummy"*}}>
.	      <td>2</td>
.	      <td>Bar</td>
.	    </tr>
.	    <tr bgcolor="#CCCCFF" {{*kd:php="dummy"*}}>
.	      <td>3</td>
.	      <td>Baz</td>
.	    </tr>
.	  </tbody>
.	</table>
.	.--------------------
.	
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- teq-iterate4.plogic
.	element user_list {
.	  @stag;
.	  {{*$ctr = 0;*}}
.	  {{*foreach ($user_list as $user) {*}}
.	    {{*$ctr += 1;*}}
.	    {{*$color = $ctr % 2 == 0 ? '#FFCCCC' : '#CCCCFF';*}}
.	    @cont;
.	  {{*}*}}
.	  @etag;
.	}
.	.--------------------
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/teq-iterate4.plogic guide.d/teq-iterate4.pdata
.	.--------------------
.	
.	
.	
.JA	◎選択		| pattern-choice
.EN	.$$ Choice	| pattern-choice
.	
.JA	複数のエレメントからひとつだけを選んで出力する場合は、次のようにします。
.EN	The following is an example to choose a certain element from some elements.
.	
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- pat-choice.pdata
.	<div {{*id="mark:message"*}}>
.	  <font color="red"   {{*id="mark:error"*}}>ERROR!</font>
.	  <font color="blue"  {{*id="mark:warning"*}}>Warning:</font>
.	  <font color="black" {{*id="mark:good"*}}>No error.</font>
.	</div>
.	.--------------------
.	
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- pat-choice.plogic
.	element message {
.	  @stag;
.	  {{*if ($error) {*}}
.	    {{*@element_error;*}}       ## ERROR!
.	  {{*} elseif ($warning) {*}}
.	    {{*@element_warning;*}}     ## Warning:
.	  {{*} else {*}}
.	    {{*@element_good;*}}        ## No error.
.	  {{*}*}}
.	  @etag;
.	}
.	.--------------------
.	
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/pat-choice.plogic guide.d/pat-choice.pdata
.	.--------------------
.	
.	
.JA	なお条件分岐を行うためのディレクティブも用意されています。
.JA	これを使うと、プレゼンテーションなしで上と同じ出力用スクリプトが得られます。
.EN	There are directives for conditional branching.
.EN	You can get the same output script without presentation logic file when you use these directives.
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.--------------------
.	<div>
.	  <font color="red"   {{*kd:php="if($error)"*}}>ERROR!</font>
.	  <font color="blue"  {{*kd:php="elseif($warning)"*}}>Warning:</font>
.	  <font color="black" {{*kd:php="else"*}}>No error.</font>
.	</div>
.	.--------------------
.	
.	
.	
.JA	◎抽出		| pattern-extraction
.EN	.$$ Extraction	| pattern-extraction
.	
.JA	プレゼンテーションデータ全体から、ある一部だけを抜き出すことができます。
.EN	It is able to extract a certain element form the whole presentation data.
.	
.JA	例えば次の例では、エレメント'breadcrumbs'からエレメント'crumb'と'separator'だけを抜き出して使用しています。
.JA	それ以外のデータは表示されません。
.EN	The following is an example to extract and use only the element 'crumb' and 'separator' from the element 'breadcrumbs'.
.EN	Other text strings are not printed.
.	
.JA	プレゼンテーションデータ：
.EN	Presentation Data:
.	.-------------------- pat-extract1.pdata
.	<div {{*id="mark:breadcrumbs"*}}>
.	  <a {{*id="mark:crumb"*}} href="@{$href}@">Home</a>
.	  <span {{*id="mark:separator"*}}> &lt; </span>
.	  <a href="/aaa/">AAA</a> &lt;
.	  <a href="/aaa/bbb/">BBB</a> &lt;
.	  <a href="/aaa/bbb/ccc/">CCC</a> &lt;
.	</div>
.	<span kd:php="value($title)">DDD</span>
.	.--------------------
.	
.JA	プレゼンテーションロジック：
.EN	Presentation Logic:
.	.-------------------- pat-extract1.plogic
.	element breadcrumbs {
.	  @stag;
.	  foreach ($breadcrumbs as $crumb) {
.JA	    {{*@element_crumb;*}}        ## <a href="">...</a>を出力
.JA	    {{*@element_separator;*}}    ## &lt; を出力
.EN	    {{*@element_crumb;*}}        ## print <a href="">...</a>
.EN	    {{*@element_separator;*}}    ## print &lt;
.	  }
.	  @etag;
.	}
.	
.	element crumb {
.	  $href = $crumb['href'];
.	  @stag;
.JA	  echo $crumb['title'];    ## 内容の変わりに式の値を出力
.EN	  echo $crumb['title'];    ## print expression instead of content
.	  @etag;
.	}
.	.--------------------
.	
.JA	出力用スクリプト：
.EN	Output Script:
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/pat-extract1.plogic guide.d/pat-extract1.pdata
.	.--------------------
.	
.	
.JA	.#このパターンは、HTMLファイルから部品化したいエレメントだけを抜き出すのに便利です。
.JA	このパターンを使うと、HTMLデータの一部だけを取り出し、部品化することができます。
.JA	例えば次の例では、HTMLファイルからタブとメニューと著作権表示を抜き出しています。
.EN	This pattern is very useful to extract HTML fragments and make them libraries.
.EN	The following is an example to extract the HTML fragments 'tablist', 'menulist', and 'copyright' and generates the output scripts for them.
.	
.	.#++++++
.JA	スタイルシート(design.css)：
.EN	Style Sheet (design.css):
.	.-------------------- design.css
.	.tabs a {
.		border-style: solid;
.		border-color: #006699;
.		border-width: 1px 1px 0px 1px;
.		color: #006699;
.		font-weight: bold;
.		text-decoration:none;
.		padding: 4px 10px 1px 10px;
.		margin: 0px 0px 0px 20px;
.	}
.	.tabs a.selected {
.		background-color:#006699;
.		color:#FFFFFF;
.	}
.	.tabs a:hover, .tabs a:active {
.		background-color: #CCEEFF;
.	}
.	.tabsline {
.		border-style:solit;
.		background-color:#006699;
.		padding:2px;
.		border-width:0;
.	}
.	.menus  {
.		border-style: solid;
.		border-color: #006699;
.		border-width: 1px 1px 1px 1px;
.		width:120;
.	}
.	.menus a {
.		color:#006699;
.		padding: 4px 10px 1px 10px;
.		text-decoration:none;
.	}
.	.menus a.selected {
.		font-weight:bold;
.	}
.	.menus a:hover, .menus a:active {
.		text-decoration:underline;
.	}
.	.menu_title {
.		color:#FFFFFF;
.		background-color:#006699;
.		font-weight:bold;
.		padding:3 10 2 10;
.		width:120;
.	}
.	.copyright {
.		font-size:small;
.		color:#999999;
.	}
.	.--------------------
.	.#------
.	
.JA	プレゼンテーションデータ({{<design.html>}})：
.EN	Presentation Data ({{<design.html>}}):
.	.-------------------- design.html
.	<html {{*id="mark:whole"*}}>
.	  <head>
.	    <title>Design Examples</title>
.	    <link rel="stylesheet" href="design.css" type="text/css">
.	  </head>
.	  <body>
.	
.	    <div {{*id="mark:tablist"*}}>
.	      <div class="tabs" id="mark:tabs">
.	        <a href="{{*@{$tab_href}@*}}" class="{{*@{$tab_class}@*}}" {{*id="mark:tab"*}}>Home</a>
.	        <a href="/product/" class="selected">Product</a>
.	        <a href="/download/" class="">Download</a>
.	        <a href="/support/" class="">Support</a>
.	      </div>
.	      <div class="tabsline">
.	      </div>
.	    </div>
.	
.	    <br>
.	
.	    <div {{*id="mark:menulist"*}}>
.	      <span class="menu_title" {{*id="mark:menu_title"*}}>MenuList</span>
.	      <div class="menus" {{*id="mark:menus"*}}>
.	        <a href="email.cgi" class="" {{*id="mark:menu"*}}
.		  {{*kd:php="attr('href'=>$menu_href,'class'=>$menu_class)"*}}>E-Mail</a>
.		<span {{*id="mark:menu_separator"*}}><br></span>
.	        <a href="board.cgi" class="selected">MesgBoard</a><br>
.	        <a href="photo.cgi" class="">PhotoAlbum</a><br>
.	        <a href="greeting.cgi" class="">GreetingCard</a><br>
.	      </div>
.	    </div>
.	    <br>
.	      
.	    <p> ..... </p>
.	    <p> ..... </p>
.	    <p> ..... </p>
.	    
.	    <div align="center" class="copyright" {{*id="mark:copyright"*}}>
.	      Copyright&copy; 2004 kuwata-lab. All Rights Reserved.
.	    </div>
.	    
.	  </body>
.	</html>
.	.--------------------
.	
.	
.JA	プレゼンテーションロジック(copyright.plogic)：
.EN	Presentation Logic (copyright.plogic):
.	.-------------------- copyright.plogic
.JA	{{*element whole {*}}         ## 全体を表すエレメントwholeを
.JA	  {{*@element_copyright;*}}   ## 抽出したいエレメントで置き換える
.JA	{{*}*}}
.EN	{{*element whole {*}}         ## replace the element 'whole'
.EN	  {{*@element_copyright;*}}   ## with the element what you want to extract
.EN	{{*}*}}
.	.--------------------
.	
.JA	プレゼンテーションロジック(tablist.plogic)：
.EN	Presentation Logic (tablist.plogic):
.	.-------------------- tablist.plogic
.JA	{{*element whole {*}}         ## 全体を表すエレメントwholeを
.JA	  {{*@element_tablist;*}}     ## 抽出したいエレメントで置き換える
.JA	{{*}*}}
.EN	{{*element whole {*}}         ## replace the element 'all'
.EN	  {{*@element_tablist;*}}     ## with the element what you want to extract
.EN	{{*}*}}
.	
.	element tabs {
.	  foreach ($tablist as $tab) {
.	    @element_tab;
.	  }
.	}
.	
.	element tab {
.	  $tab_href = $tab['href'];
.	  $tab_name = $tab['name'];
.	  $klass = $current_tab == $tab_name ? 'selected' : '';
.	  @stag;
.	  echo $tab_name;
.	  @etag;
.	}
.	.--------------------
.	
.JA	プレゼンテーションロジック(menulist.plogic)：
.EN	Presentation Logic (menulist.plogic):
.	.-------------------- menulist.plogic
.JA	{{*element whole {*}}         ## 全体を表すエレメントwholeを
.JA	  {{*@element_menulist;*}}    ## 抽出したいエレメントで置き換える
.JA	{{*}*}}
.EN	{{*element whole {*}}         ## replace the element 'whole'
.EN	  {{*@element_menulist;*}}    ## with the element what you want to extract
.EN	{{*}*}}
.	
.	element menu_title {
.	  @stag;
.	  echo $menu_title;
.	  @etag;
.	}
.	
.	element menus {
.	  foreach ($menulist as $menu) {
.	    @stag;
.	    @element_menu;
.	    @element_menu_separator;
.	    @etag;
.	  }
.	}
.	
.	element menu {
.	  $menu_href = $menu['href'];
.	  $menu_name = $menu['name'];
.	  $menu_class = $menu_name == $current_menu ? 'selected' : '';
.	  @stag;
.	  echo $menu_name;
.	  @etag;
.	}
.	.--------------------
.	
.JA	コンパイル：
.EN	Compile:
.	.====================
.	### copyright
.	$ kwartz-php -p copyright.plogic design.pdata > copyright.php
.	
.	### tablist
.	$ kwartz-php -p tablist.plogic   design.pdata > tablist.php
.	
.	### menulist
.	$ kwartz-php -p menulist.plogic  design.pdata > menulist.php
.	.====================
.	
.	
.JA	出力用スクリプト(copyright.php)：
.EN	Output Script (copyright.php):
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/copyright.plogic guide.d/design.html
.	.--------------------
.	
.JA	出力用スクリプト(tablist.php)：
.EN	Output Script (tablist.php):
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/tablist.plogic guide.d/design.html
.	.--------------------
.	
.JA	出力用スクリプト(menulist.php)：
.EN	Output Script (menulist.php):
.	.--------------------
.	.<<<:! kwartz-php -p guide.d/menulist.plogic guide.d/design.html
.	.--------------------
.	
.	
.	

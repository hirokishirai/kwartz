<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html">
  <title>Kwartz-ruby 3.0 Reference Guide</title>
  <meta name="generator" content="kwaser">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <link rel="stylesheet" href="docstyle.css" type="text/css">
 </head>
 <body>

  <blockquote>
   <div class="mainbody">

    <div align="left"><h1>Kwartz-ruby 3.0 Reference Guide</h1></div>
    <div align="left">
      last update: $Date$<br>
    </div>

<a name="preface"></a>
<h2 class="section1">Preface</h2>
<p>This document<sup>(<a href="#fnref:1" name="fnlink:1">*1</a>)</sup> is the reference manual of Kwartz-ruby 3.0.
</p>
<p>Kwartz<sup>(<a href="#fnref:2" name="fnlink:2">*2</a>)</sup> is a template system which realized the concept 'Independence of Presentation Logic'.
It means that presentation logics are separated from both presentation data (typically HTML file) and business logic layer (typically main program).
</p>
<p>If you are new to Kwartz, see <a href="users-guide.html">Users' Guide</a> at first.
</p>
<div class="footnote">
 <dl compact>
  <dt>(<a name="fnref:1" href="#fnlink:1">*1</a>)</dt>
  <dd>This document is generated automatically from unit-test data. Knuth had propsed integration of code and document.  I propose integration of test and document :-)</dd>
  <dt>(<a name="fnref:2" href="#fnlink:2">*2</a>)</dt>
  <dd>Development of Kwartz had subsidized by Exploratory Software Project of <a href="http://www.ipa.go.jp/about/english/index.html">IPA (Information-Technology Promotion Agency Japan)</a>.</dd>
 </dl>
</div>
<a name="toc"></a>
<h3 class="section2">Table of Contents</h3>
<ul>
  <li><a href="#preface">Preface</a>
  <ul>
    <li><a href="#toc">Table of Contents</a>
    </li>
  </ul>
  </li>
  <li><a href="#plogic">Pesentation Logic</a>
  <ul>
    <li><a href="#property-elem">elem, Elem, ELEM</a>
    </li>
    <li><a href="#property-cont">cont, Cont, CONT</a>
    </li>
    <li><a href="#property-value">value, Value, VALUE</a>
    </li>
    <li><a href="#property-stag">stag, Stag, STAG</a>
    </li>
    <li><a href="#property-etag">etag, Etag, ETAG</a>
    </li>
    <li><a href="#property-attrs">attrs, Attrs, ATTRS</a>
    </li>
    <li><a href="#property-append">append, Append, APPEND</a>
    </li>
    <li><a href="#property-remove">remove</a>
    </li>
    <li><a href="#property-logic">logic</a>
    </li>
    <li><a href="#property-begin">begin, end</a>
    </li>
  </ul>
  </li>
  <li><a href="#directives">Directives</a>
  <ul>
    <li><a href="#directive-elem">elem, Elem, ELEM</a>
    </li>
    <li><a href="#directive-stag">stag, Stag, STAG</a>
    </li>
    <li><a href="#directive-etag">etag, Etag, ETAG</a>
    </li>
    <li><a href="#directive-cont">cont, Cont, CONT</a>
    </li>
    <li><a href="#directive-value">value, Value, VALUE</a>
    </li>
    <li><a href="#directive-foreach">foreach</a>
    </li>
    <li><a href="#directive-list">list</a>
    </li>
    <li><a href="#directive-foreach_ctr">Foreach, List</a>
    </li>
    <li><a href="#directive-foreach_tgl">FOREACH, LIST</a>
    </li>
    <li><a href="#directive-while">while, loop</a>
    </li>
    <li><a href="#directive-if">if-then-else</a>
    </li>
    <li><a href="#directive-set">set</a>
    </li>
    <li><a href="#directive-mark">mark</a>
    </li>
    <li><a href="#directive-attr">attr, Attr, ATTR</a>
    </li>
    <li><a href="#directive-append">append, Append, APPEND</a>
    </li>
    <li><a href="#directive-dummy">dummy</a>
    </li>
    <li><a href="#directive-default">default, Default, DEFAULT</a>
    </li>
    <li><a href="#directive-replace">replace_element/content_with_element/content</a>
    </li>
    <li><a href="#directive-replace2">replace_element_with, replace_content_with</a>
    </li>
  </ul>
  </li>
  <li><a href="#cmdline">Command-Line Options</a>
  </li>
</ul>
<br>


<br>


<a name="plogic"></a>
<h2 class="section1">Pesentation Logic</h2>
<p>Presentation logic format in Kwartz is similar to Cascading Style Sheet (CSS).
</p>
<ul type="disc">
<li>Presentation logic file is a set of ruleset.
</li>
<li>Ruleset is a pair of selector and declarations.
</li>
<li>Declaration is a pair of property and value.
</li>
</ul>
<div class="output_caption">
Pseudo-EBNF syntax of presentation logic</div>
<pre class="output">plogic       ::=  ruleset*
ruleset      ::=  selector '{' [ declaration ';' ]* '}'
selector     ::=  '#' name
declaration  ::=  property ':' value
property     ::=  'elem'   | 'Elem'   | 'ELEM'
               |  'stag'   | 'Stag'   | 'STAG'
	       |  'etag'   | 'Etag'   | 'ETAG'
	       |  'cont'   | 'Cont'   | 'CONT'
	       |  'value'  | 'Value'  | 'VALUE'
	       |  'attrs'  | 'Attrs'  | 'ATTRS'
	       |  'append' | 'Append' | 'APPEND'
	       |  'remove'
	       |  'logic'
</pre>
<p>Notice that the tail semicolon of declaration is not omittable.
</p>
<a name="property-elem"></a>
<h3 class="section2">elem, Elem, ELEM</h3>
<p><code>elem:</code>, <code>Elem:</code>, and <code>ELEM:</code> properties replaces the element
with expression value.
</p>
<p><code>Elem:</code> always escape expression value while <code>ELEM:</code> never escape it.
<code>elem:</code> escapes when command-line option '-e' is specified or
configuration option 'PROPERTY_ESCAPE' is ture.
</p>
<a name="property-elem-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-elem.plogic)</div>
<pre class="program">#name1 {
  <strong>elem:</strong> user[:name];
}
#name2 {
  <strong>Elem:</strong> user[:name];
}
#name3 {
  <strong>ELEM:</strong> user[:name];
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-elem.plogic ex-elem.pdata
<strong>&lt;%= user[:name] %&gt;</strong>
<strong>&lt;%=h user[:name] %&gt;</strong>
<strong>&lt;%= user[:name] %&gt;</strong>
</pre>
<br>

<a name="property-elem-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-elem.plogic)</div>
<pre class="program">#name1 {
  <strong>elem:</strong> $user['name'];
}
#name2 {
  <strong>Elem:</strong> $user['name'];
}
#name3 {
  <strong>ELEM:</strong> $user['name'];
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-elem.plogic ex-elem.pdata
<strong>&lt;?php echo $user['name']; ?&gt;</strong>
<strong>&lt;?php echo htmlspecialchars($user['name']); ?&gt;</strong>
<strong>&lt;?php echo $user['name']; ?&gt;</strong>
</pre>
<br>

<a name="property-elem-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-elem.plogic)</div>
<pre class="program">#name1 {
  <strong>elem:</strong> user.name;
}
#name2 {
  <strong>Elem:</strong> user.name;
}
#name3 {
  <strong>ELEM:</strong> user.name;
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-elem.plogic ex-elem.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
<strong>${user.name}</strong>
<strong>${user.name}</strong>
<strong>&lt;c:out value="${user.name}" escapeXml="false"/&gt;</strong>
</pre>
<br>

<a name="property-elem-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-elem.plogic)</div>
<pre class="program">#name1 {
  <strong>elem:</strong> $user{'name'};
}
#name2 {
  <strong>Elem:</strong> $user{'name'};
}
#name3 {
  <strong>ELEM:</strong> $user{'name'};
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-elem.plogic ex-elem.pdata
<strong>&lt;?= $user{'name'} !&gt;</strong>
<strong>&lt;?= encode_entities($user{'name'}) !&gt;</strong>
<strong>&lt;?= $user{'name'} !&gt;</strong>
</pre>
<br>

<br>


<a name="property-cont"></a>
<h3 class="section2">cont, Cont, CONT</h3>
<p><code>cont:</code>, <code>Cont:</code>, and <code>CONT:</code> properties replaces the element
with expression value.
</p>
<p><code>Cont:</code> always escape expression value while <code>CONT:</code> never escape it.
<code>cont:</code> escapes when command-line option '-e' is specified or
configuration option 'PROPERTY_ESCAPE' is ture.
</p>
<a name="property-cont-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-cont.plogic)</div>
<pre class="program">#name1 {
  <strong>cont:</strong> user[:name];
}
#name2 {
  <strong>Cont:</strong> user[:name];
}
#name3 {
  <strong>CONT:</strong> user[:name];
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-cont.plogic ex-cont.pdata
&lt;p&gt;<strong>&lt;%= user[:name] %&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;%=h user[:name] %&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;%= user[:name] %&gt;</strong>&lt;/p&gt;
</pre>
<br>

<a name="property-cont-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-cont.plogic)</div>
<pre class="program">#name1 {
  <strong>cont:</strong> $user['name'];
}
#name2 {
  <strong>Cont:</strong> $user['name'];
}
#name3 {
  <strong>CONT:</strong> $user['name'];
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-cont.plogic ex-cont.pdata
&lt;p&gt;<strong>&lt;?php echo $user['name']; ?&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?php echo htmlspecialchars($user['name']); ?&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?php echo $user['name']; ?&gt;</strong>&lt;/p&gt;
</pre>
<br>

<a name="property-cont-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-cont.plogic)</div>
<pre class="program">#name1 {
  <strong>cont:</strong> user.name;
}
#name2 {
  <strong>Cont:</strong> user.name;
}
#name3 {
  <strong>CONT:</strong> user.name;
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-cont.plogic ex-cont.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;p&gt;<strong>${user.name}</strong>&lt;/p&gt;
&lt;p&gt;<strong>${user.name}</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;c:out value="${user.name}" escapeXml="false"/&gt;</strong>&lt;/p&gt;
</pre>
<br>

<a name="property-cont-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-cont.plogic)</div>
<pre class="program">#name1 {
  <strong>cont:</strong> $user{'name'};
}
#name2 {
  <strong>Cont:</strong> $user{'name'};
}
#name3 {
  <strong>CONT:</strong> $user{'name'};
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-cont.plogic ex-cont.pdata
&lt;p&gt;<strong>&lt;?= $user{'name'} !&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?= encode_entities($user{'name'}) !&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?= $user{'name'} !&gt;</strong>&lt;/p&gt;
</pre>
<br>

<br>


<a name="property-value"></a>
<h3 class="section2">value, Value, VALUE</h3>
<p><code>value:</code>, <code>Value:</code>, and <code>VALUE:</code> properties replaces the element
with expression value.
These are the same as <code>cont:</code>, <code>Cont:</code>, and <code>CONT:</code> properties
respectively.
</p>
<a name="property-value-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-value.plogic)</div>
<pre class="program">#name1 {
  <strong>value:</strong> user[:name];
}
#name2 {
  <strong>Value:</strong> user[:name];
}
#name3 {
  <strong>VALUE:</strong> user[:name];
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-value.plogic ex-value.pdata
&lt;p&gt;<strong>&lt;%= user[:name] %&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;%=h user[:name] %&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;%= user[:name] %&gt;</strong>&lt;/p&gt;
</pre>
<br>

<a name="property-value-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-value.plogic)</div>
<pre class="program">#name1 {
  <strong>value:</strong> $user['name'];
}
#name2 {
  <strong>Value:</strong> $user['name'];
}
#name3 {
  <strong>VALUE:</strong> $user['name'];
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-value.plogic ex-value.pdata
&lt;p&gt;<strong>&lt;?php echo $user['name']; ?&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?php echo htmlspecialchars($user['name']); ?&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?php echo $user['name']; ?&gt;</strong>&lt;/p&gt;
</pre>
<br>

<a name="property-value-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-value.plogic)</div>
<pre class="program">#name1 {
  <strong>value:</strong> user.name;
}
#name2 {
  <strong>Value:</strong> user.name;
}
#name3 {
  <strong>VALUE:</strong> user.name;
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-value.plogic ex-value.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;p&gt;<strong>${user.name}</strong>&lt;/p&gt;
&lt;p&gt;<strong>${user.name}</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;c:out value="${user.name}" escapeXml="false"/&gt;</strong>&lt;/p&gt;
</pre>
<br>

<a name="property-value-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;p id="mark:name1"&gt;aaa&lt;/p&gt;
&lt;p id="mark:name2"&gt;bbb&lt;/p&gt;
&lt;p id="mark:name3"&gt;ccc&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-value.plogic)</div>
<pre class="program">#name1 {
  <strong>value:</strong> $user{'name'};
}
#name2 {
  <strong>Value:</strong> $user{'name'};
}
#name3 {
  <strong>VALUE:</strong> $user{'name'};
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-value.plogic ex-value.pdata
&lt;p&gt;<strong>&lt;?= $user{'name'} !&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?= encode_entities($user{'name'}) !&gt;</strong>&lt;/p&gt;
&lt;p&gt;<strong>&lt;?= $user{'name'} !&gt;</strong>&lt;/p&gt;
</pre>
<br>

<br>


<a name="property-stag"></a>
<h3 class="section2">stag, Stag, STAG</h3>
<p><code>stage:</code>, <code>Stag:</code>, and <code>STAG:</code> properties replaces the start-tag
with expression value.
</p>
<p><code>Stag:</code> always escape expression value while <code>STAG:</code> never escape it.
<code>stag:</code> escapes when command-line option '-e' is specified or
configuration option 'PROPERTY_ESCAPE' is ture.
</p>
<a name="property-stag-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;a href="#" id="mark:link1"&gt;&lt;img src="button1.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link2"&gt;&lt;img src="button2.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link3"&gt;&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<div class="program_caption">
presentation logic (ex-stag.plogic)</div>
<pre class="program">#link1 {
  <strong>stag:</strong> start_link_tag :action=&gt;'list';
}
#link2 {
  <strong>Stag:</strong> start_link_tag :action=&gt;'list';
}
#link3 {
  <strong>STAG:</strong> start_link_tag :action=&gt;'list';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-stag.plogic ex-stag.pdata
<strong>&lt;%= start_link_tag :action=&gt;'list' %&gt;</strong>&lt;img src="button1.png"&gt;&lt;/a&gt;
<strong>&lt;%=h start_link_tag :action=&gt;'list' %&gt;</strong>&lt;img src="button2.png"&gt;&lt;/a&gt;
<strong>&lt;%= start_link_tag :action=&gt;'list' %&gt;</strong>&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<br>

<a name="property-stag-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;a href="#" id="mark:link1"&gt;&lt;img src="button1.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link2"&gt;&lt;img src="button2.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link3"&gt;&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<div class="program_caption">
presentation logic (ex-stag.plogic)</div>
<pre class="program">#link1 {
  <strong>stag:</strong> start_link_tag('list');
}
#link2 {
  <strong>Stag:</strong> start_link_tag('list');
}
#link3 {
  <strong>STAG:</strong> start_link_tag('list');
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-stag.plogic ex-stag.pdata
<strong>&lt;?php echo start_link_tag('list'); ?&gt;</strong>&lt;img src="button1.png"&gt;&lt;/a&gt;
<strong>&lt;?php echo htmlspecialchars(start_link_tag('list')); ?&gt;</strong>&lt;img src="button2.png"&gt;&lt;/a&gt;
<strong>&lt;?php echo start_link_tag('list'); ?&gt;</strong>&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<br>

<a name="property-stag-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;a href="#" id="mark:link1"&gt;&lt;img src="button1.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link2"&gt;&lt;img src="button2.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link3"&gt;&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<div class="program_caption">
presentation logic (ex-stag.plogic)</div>
<pre class="program">#link1 {
  <strong>stag:</strong> fn:start_link_tag('list');
}
#link2 {
  <strong>Stag:</strong> fn:start_link_tag('list');
}
#link3 {
  <strong>STAG:</strong> fn:start_link_tag('list');
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-stag.plogic ex-stag.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
<strong>${fn:start_link_tag('list')}</strong>&lt;img src="button1.png"&gt;&lt;/a&gt;
<strong>${fn:start_link_tag('list')}</strong>&lt;img src="button2.png"&gt;&lt;/a&gt;
<strong>&lt;c:out value="${fn:start_link_tag('list')}" escapeXml="false"/&gt;</strong>&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<br>

<a name="property-stag-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;a href="#" id="mark:link1"&gt;&lt;img src="button1.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link2"&gt;&lt;img src="button2.png"&gt;&lt;/a&gt;
&lt;a href="#" id="mark:link3"&gt;&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<div class="program_caption">
presentation logic (ex-stag.plogic)</div>
<pre class="program">#link1 {
  <strong>stag:</strong> start_link_tag('list');
}
#link2 {
  <strong>Stag:</strong> start_link_tag('list');
}
#link3 {
  <strong>STAG:</strong> start_link_tag('list');
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-stag.plogic ex-stag.pdata
<strong>&lt;?= start_link_tag('list') !&gt;</strong>&lt;img src="button1.png"&gt;&lt;/a&gt;
<strong>&lt;?= encode_entities(start_link_tag('list')) !&gt;</strong>&lt;img src="button2.png"&gt;&lt;/a&gt;
<strong>&lt;?= start_link_tag('list') !&gt;</strong>&lt;img src="button3.png"&gt;&lt;/a&gt;
</pre>
<br>

<br>


<a name="property-etag"></a>
<h3 class="section2">etag, Etag, ETAG</h3>
<p><code>stage:</code>, <code>Etag:</code>, and <code>ETAG:</code> properties replaces the end-tag
with expression value.
</p>
<p><code>Etag:</code> always escape expression value while <code>ETAG:</code> never escape it.
<code>etag:</code> escapes when command-line option '-e' is specified or
configuration option 'PROPERTY_ESCAPE' is ture.
</p>
<a name="property-etag-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;li id="mark:item1"&gt;foo&lt;/li&gt;
&lt;li id="mark:item2"&gt;bar&lt;/li&gt;
&lt;li id="mark:item3"&gt;baz&lt;/li&gt;
</pre>
<div class="program_caption">
presentation logic (ex-etag.plogic)</div>
<pre class="program">#item1 {
  <strong>etag:</strong> is_xml ? '&lt;/li&gt;' : '';
}
#item2 {
  <strong>Etag:</strong> is_xml ? '&lt;/li&gt;' : '';
}
#item3 {
  <strong>ETAG:</strong> is_xml ? '&lt;/li&gt;' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-etag.plogic ex-etag.pdata
&lt;li&gt;foo<strong>&lt;%= is_xml ? '&lt;/li&gt;' : '' %&gt;</strong>
&lt;li&gt;bar<strong>&lt;%=h is_xml ? '&lt;/li&gt;' : '' %&gt;</strong>
&lt;li&gt;baz<strong>&lt;%= is_xml ? '&lt;/li&gt;' : '' %&gt;</strong>
</pre>
<br>

<a name="property-etag-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;li id="mark:item1"&gt;foo&lt;/li&gt;
&lt;li id="mark:item2"&gt;bar&lt;/li&gt;
&lt;li id="mark:item3"&gt;baz&lt;/li&gt;
</pre>
<div class="program_caption">
presentation logic (ex-etag.plogic)</div>
<pre class="program">#item1 {
  <strong>etag:</strong> $is_xml ? '&lt;/li&gt;' : '';
}
#item2 {
  <strong>Etag:</strong> $is_xml ? '&lt;/li&gt;' : '';
}
#item3 {
  <strong>ETAG:</strong> $is_xml ? '&lt;/li&gt;' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-etag.plogic ex-etag.pdata
&lt;li&gt;foo<strong>&lt;?php echo $is_xml ? '&lt;/li&gt;' : ''; ?&gt;</strong>
&lt;li&gt;bar<strong>&lt;?php echo htmlspecialchars($is_xml ? '&lt;/li&gt;' : ''); ?&gt;</strong>
&lt;li&gt;baz<strong>&lt;?php echo $is_xml ? '&lt;/li&gt;' : ''; ?&gt;</strong>
</pre>
<br>

<a name="property-etag-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;li id="mark:item1"&gt;foo&lt;/li&gt;
&lt;li id="mark:item2"&gt;bar&lt;/li&gt;
&lt;li id="mark:item3"&gt;baz&lt;/li&gt;
</pre>
<div class="program_caption">
presentation logic (ex-etag.plogic)</div>
<pre class="program">#item1 {
  <strong>etag:</strong> is_xml ? '&lt;/li&gt;' : '';
}
#item2 {
  <strong>Etag:</strong> is_xml ? '&lt;/li&gt;' : '';
}
#item3 {
  <strong>ETAG:</strong> is_xml ? '&lt;/li&gt;' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-etag.plogic ex-etag.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;li&gt;foo<strong>${is_xml ? '&lt;/li&gt;' : ''}</strong>
&lt;li&gt;bar<strong>${is_xml ? '&lt;/li&gt;' : ''}</strong>
&lt;li&gt;baz<strong>&lt;c:out value="${is_xml ? '&lt;/li&gt;' : ''}" escapeXml="false"/&gt;</strong>
</pre>
<br>

<a name="property-etag-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;li id="mark:item1"&gt;foo&lt;/li&gt;
&lt;li id="mark:item2"&gt;bar&lt;/li&gt;
&lt;li id="mark:item3"&gt;baz&lt;/li&gt;
</pre>
<div class="program_caption">
presentation logic (ex-etag.plogic)</div>
<pre class="program">#item1 {
  <strong>etag:</strong> $is_xml ? '&lt;/li&gt;' : '';
}
#item2 {
  <strong>Etag:</strong> $is_xml ? '&lt;/li&gt;' : '';
}
#item3 {
  <strong>ETAG:</strong> $is_xml ? '&lt;/li&gt;' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-etag.plogic ex-etag.pdata
&lt;li&gt;foo<strong>&lt;?= $is_xml ? '&lt;/li&gt;' : '' !&gt;</strong>
&lt;li&gt;bar<strong>&lt;?= encode_entities($is_xml ? '&lt;/li&gt;' : '') !&gt;</strong>
&lt;li&gt;baz<strong>&lt;?= $is_xml ? '&lt;/li&gt;' : '' !&gt;</strong>
</pre>
<br>

<br>


<a name="property-attrs"></a>
<h3 class="section2">attrs, Attrs, ATTRS</h3>
<p><code>attrs:</code>, <code>Attrs:</code>, <code>ATTRS:</code>, property replaces or adds attributes.
</p>
<p><code>Attrs:</code> always escape expression value while <code>ATTRS:</code> never escape it.
<code>attrs:</code> escapes when command-line option '-e' is specified or
configuration option 'PROPERTY_ESCAPE' is ture.
</p>
<p>Notice that the follwing will be parse error
because Kwartz parses <code>attrs:</code> property with pattern matching.
</p>
<pre class="program">#foo {
  attrs: 'class' klass, 'style' style;
}
</pre>
<a name="property-attrs-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-attrs.pdata)</div>
<pre class="program">&lt;p id="mark:item" class="para"&gt;
  AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-attrs.plogic)</div>
<pre class="program">#item {
  <strong>attrs:</strong> 'class' klass,
         'style' style;
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-attrs.plogic ex-attrs.pdata
&lt;p <strong>class="&lt;%= klass %&gt;"</strong> <strong>style="&lt;%= style %&gt;"</strong>&gt;
  AAA
&lt;/p&gt;
</pre>
<br>

<a name="property-attrs-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-attrs.pdata)</div>
<pre class="program">&lt;p id="mark:item" class="para"&gt;
  AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-attrs.plogic)</div>
<pre class="program">#item {
  <strong>attrs:</strong> 'class' $class,
         'style' $style;
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-attrs.plogic ex-attrs.pdata
&lt;p <strong>class="&lt;?php echo $class; ?&gt;"</strong> <strong>style="&lt;?php echo $style; ?&gt;"</strong>&gt;
  AAA
&lt;/p&gt;
</pre>
<br>

<a name="property-attrs-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-attrs.pdata)</div>
<pre class="program">&lt;p id="mark:item" class="para"&gt;
  AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-attrs.plogic)</div>
<pre class="program">#item {
  <strong>attrs:</strong> 'class' klass,
         'style' style;
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-attrs.plogic ex-attrs.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;p <strong>class="${klass}"</strong> <strong>style="${style}"</strong>&gt;
  AAA
&lt;/p&gt;
</pre>
<br>

<a name="property-attrs-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-attrs.pdata)</div>
<pre class="program">&lt;p id="mark:item" class="para"&gt;
  AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-attrs.plogic)</div>
<pre class="program">#item {
  <strong>attrs:</strong> 'class' $class,
         'style' $style;
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-attrs.plogic ex-attrs.pdata
&lt;p <strong>class="&lt;?= $class !&gt;"</strong> <strong>style="&lt;?= $style !&gt;"</strong>&gt;
  AAA
&lt;/p&gt;
</pre>
<br>

<br>


<a name="property-append"></a>
<h3 class="section2">append, Append, APPEND</h3>
<p><code>append:</code>, <code>Append:</code>, <code>APPEND:</code> directive appends
expressions to the start tag.
</p>
<p><code>Append:</code> always escape expression value while <code>APPEND:</code> never escape it.
<code>append:</code> escapes when command-line option '-e' is specified or
configuration option 'PROPERTY_ESCAPE' is ture.
</p>
<p>The following is an example to append several expressions.
</p>
<pre class="program">#remember {
  append:  expr1,
           expr2,
           expr3;
}
</pre>
<p>Notice that the following will be parse error.
</p>
<pre class="program">#remember {
  append:  expr1, expr2, expr3;
}
</pre>
<a name="property-append-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkboxk" id="mark:remember" value="y"&gt;Remeber me
</pre>
<div class="program_caption">
presentation logic (ex-append.plogic)</div>
<pre class="program">#remember {
  <strong>append:</strong> flag ? ' checked' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-append.plogic ex-append.pdata
&lt;input type="checkboxk" value="y"<strong>&lt;%= flag ? ' checked' : '' %&gt;</strong>&gt;Remeber me
</pre>
<br>

<a name="property-append-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkboxk" id="mark:remember" value="y"&gt;Remeber me
</pre>
<div class="program_caption">
presentation logic (ex-append.plogic)</div>
<pre class="program">#remember {
  <strong>append:</strong> $flag ? ' checked' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-append.plogic ex-append.pdata
&lt;input type="checkboxk" value="y"<strong>&lt;?php echo $flag ? ' checked' : ''; ?&gt;</strong>&gt;Remeber me
</pre>
<br>

<a name="property-append-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkboxk" id="mark:remember" value="y"&gt;Remeber me
</pre>
<div class="program_caption">
presentation logic (ex-append.plogic)</div>
<pre class="program">#remember {
  <strong>append:</strong> flag ? ' checked' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-append.plogic ex-append.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;input type="checkboxk" value="y"<strong>${flag ? ' checked' : ''}</strong>&gt;Remeber me
</pre>
<br>

<a name="property-append-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkboxk" id="mark:remember" value="y"&gt;Remeber me
</pre>
<div class="program_caption">
presentation logic (ex-append.plogic)</div>
<pre class="program">#remember {
  <strong>append:</strong> $flag ? ' checked' : '';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-append.plogic ex-append.pdata
&lt;input type="checkboxk" value="y"<strong>&lt;?= $flag ? ' checked' : '' !&gt;</strong>&gt;Remeber me
</pre>
<br>

<br>


<a name="property-remove"></a>
<h3 class="section2">remove</h3>
<p><code>remove:</code> property removes attributes.
</p>
<a name="property-remove-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-remove.pdata)</div>
<pre class="program">&lt;p id="foo" class="paragraph" style="color: red"&gt;
 AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-remove.plogic)</div>
<pre class="program">#foo {
  <strong>remove:</strong> 'id', 'style';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-remove.plogic ex-remove.pdata
&lt;p class="paragraph"&gt;
 AAA
&lt;/p&gt;
</pre>
<br>

<a name="property-remove-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-remove.pdata)</div>
<pre class="program">&lt;p id="foo" class="paragraph" style="color: red"&gt;
 AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-remove.plogic)</div>
<pre class="program">#foo {
  <strong>remove:</strong> 'id', 'style';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-remove.plogic ex-remove.pdata
&lt;p class="paragraph"&gt;
 AAA
&lt;/p&gt;
</pre>
<br>

<a name="property-remove-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-remove.pdata)</div>
<pre class="program">&lt;p id="foo" class="paragraph" style="color: red"&gt;
 AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-remove.plogic)</div>
<pre class="program">#foo {
  <strong>remove:</strong> 'id', 'style';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-remove.plogic ex-remove.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;p class="paragraph"&gt;
 AAA
&lt;/p&gt;
</pre>
<br>

<a name="property-remove-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-remove.pdata)</div>
<pre class="program">&lt;p id="foo" class="paragraph" style="color: red"&gt;
 AAA
&lt;/p&gt;
</pre>
<div class="program_caption">
presentation logic (ex-remove.plogic)</div>
<pre class="program">#foo {
  <strong>remove:</strong> 'id', 'style';
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-remove.plogic ex-remove.pdata
&lt;p class="paragraph"&gt;
 AAA
&lt;/p&gt;
</pre>
<br>

<br>


<a name="property-logic"></a>
<h3 class="section2">logic</h3>
<p><code>logic:</code> property represents the presentation logic body of the element.
In the <code>logic:</code> property, the folllowings are available.
</p>
<dl class="dl3">
<dt class="dt3"><b>
<code>_elem</code> </b></dt>
<dd class="dd3">
        represents the element
</dd>
<dt class="dt3"><b>
<code>_stag</code> </b></dt>
<dd class="dd3">
        represents start-tag of the element
</dd>
<dt class="dt3"><b>
<code>_cont</code> </b></dt>
<dd class="dd3">
        represents content of the element
</dd>
<dt class="dt3"><b>
<code>_stag</code> </b></dt>
<dd class="dd3">
        represents end-tag of the element
</dd>
<dt class="dt3"><b>
<code>_element(<em>name</em>)</code> </b></dt>
<dd class="dd3">
        represents the other element marked as <em>name</em>.
</dd>
<dt class="dt3"><b>
<code>_content(<em>name</em>)</code> </b></dt>
<dd class="dd3">
        represents the content of other element marked as <em>name</em>.
</dd>
</dl>
<p>In the <code>logic:</code> property, it is able to write statements in target language
(Ruby, PHP, Java, Perl, and so on).
</p>
<a name="property-logic-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-logic.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li id="mark:items"&gt;AAA&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-logic.plogic)</div>
<pre class="program">#items {
  value: item;
  <strong>logic:</strong> {
    @list.each do |item|
      <strong>_stag</strong>
      <strong>_cont</strong>
      <strong>_etag</strong>
    end
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-logic.plogic ex-logic.pdata
&lt;ul&gt;
<strong>&lt;%     @list.each do |item| %&gt;</strong>
  &lt;li&gt;&lt;%= item %&gt;&lt;/li&gt;
<strong>&lt;%     end %&gt;</strong>
&lt;/ul&gt;
</pre>
<br>

<a name="property-logic-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-logic.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li id="mark:items"&gt;AAA&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-logic.plogic)</div>
<pre class="program">#items {
  value: $item;
  <strong>logic:</strong> {
    foreach ($list as $item) {
      <strong>_stag();</strong>
      <strong>_cont();</strong>
      <strong>_etag();</strong>
    }
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-logic.plogic ex-logic.pdata
&lt;ul&gt;
<strong>&lt;?php     foreach ($list as $item) { ?&gt;</strong>
  &lt;li&gt;&lt;?php echo $item; ?&gt;&lt;/li&gt;
<strong>&lt;?php     } ?&gt;</strong>
&lt;/ul&gt;
</pre>
<br>

<a name="property-logic-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-logic.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li id="mark:items"&gt;AAA&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-logic.plogic)</div>
<pre class="program">#items {
  value: item;
  <strong>logic:</strong> {
    &lt;c:forEach var="item" items="${list}"&gt;
      <strong>_stag();</strong>
      <strong>_cont();</strong>
      <strong>_etag();</strong>
    &lt;/c:forEach&gt;
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-logic.plogic ex-logic.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;ul&gt;
    <strong>&lt;c:forEach var="item" items="${list}"&gt;</strong>
  &lt;li&gt;${item}&lt;/li&gt;
    <strong>&lt;/c:forEach&gt;</strong>
&lt;/ul&gt;
</pre>
<br>

<a name="property-logic-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-logic.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li id="mark:items"&gt;AAA&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-logic.plogic)</div>
<pre class="program">#items {
  value: $item;
  <strong>logic:</strong> {
    foreach ($item in @list) {
      <strong>_stag();</strong>
      <strong>_cont();</strong>
      <strong>_etag();</strong>
    }
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-logic.plogic ex-logic.pdata
&lt;ul&gt;
<strong>&lt;?     foreach ($item in @list) { !&gt;</strong>
  &lt;li&gt;&lt;?= $item !&gt;&lt;/li&gt;
<strong>&lt;?     } !&gt;</strong>
&lt;/ul&gt;
</pre>
<br>

<br>


<a name="property-begin"></a>
<h3 class="section2">begin, end</h3>
<p><code>begin:</code> and <code>end:</code> property represents the prework and postwork
of document respectively.
These properties takes target code block and are available only with
'#DOCUMENT' selector.
</p>
<a name="property-begin-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-begin.pdata)</div>
<pre class="program">&lt;p&gt;Hello &lt;span id="mark:username"&gt;world&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
 &lt;li id="mark:menu"&gt;menu item&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-begin.plogic)</div>
<pre class="program">#DOCUMENT {
  <strong>begin:</strong> {
    username = @context[:username]
    menulist = @context[:menulist]
  }
  <strong>end:</strong> {
    print "&lt;!-- document end --&gt;\n"
  }
}
#username {
  value:  username;
}
#menu {
  value: menu;
  logic: {
    for menu in menulist
      _elem
    end
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby -p ex-begin.plogic ex-begin.pdata
<strong>&lt;%     username = @context[:username] %&gt;</strong>
<strong>&lt;%     menulist = @context[:menulist] %&gt;</strong>
&lt;p&gt;Hello &lt;span&gt;&lt;%= username %&gt;&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
&lt;%     for menu in menulist %&gt;
 &lt;li&gt;&lt;%= menu %&gt;&lt;/li&gt;
&lt;%     end %&gt;
&lt;/ul&gt;
<strong>&lt;%= "&lt;!-- document end --&gt;\n" %&gt;</strong>
</pre>
<br>

<a name="property-begin-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-begin.pdata)</div>
<pre class="program">&lt;p&gt;Hello &lt;span id="mark:username"&gt;world&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
 &lt;li id="mark:menu"&gt;menu item&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-begin.plogic)</div>
<pre class="program">#DOCUMENT {
  <strong>begin:</strong> {
    $username = $context['username'];
    $menulist = $context['menulist'];
  }
  <strong>end:</strong> {
    print("&lt;!-- document end --&gt;\n");
  }
}
#username {
  value:  $username;
}
#menu {
  value: $menu;
  logic: {
    foreach ($menulist as $menu) {
      _elem();
    }
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php -p ex-begin.plogic ex-begin.pdata
<strong>&lt;?php     $username = $context['username']; ?&gt;</strong>
<strong>&lt;?php     $menulist = $context['menulist']; ?&gt;</strong>
&lt;p&gt;Hello &lt;span&gt;&lt;?php echo $username; ?&gt;&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
&lt;?php     foreach ($menulist as $menu) { ?&gt;
 &lt;li&gt;&lt;?php echo $menu; ?&gt;&lt;/li&gt;
&lt;?php     } ?&gt;
&lt;/ul&gt;
<strong>&lt;?php echo "&lt;!-- document end --&gt;\n"; ?&gt;</strong>
</pre>
<br>

<a name="property-begin-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-begin.pdata)</div>
<pre class="program">&lt;p&gt;Hello &lt;span id="mark:username"&gt;world&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
 &lt;li id="mark:menu"&gt;menu item&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-begin.plogic)</div>
<pre class="program">#DOCUMENT {
  <strong>begin:</strong> {
    &lt;c:set var="username" value="${context.username}"/&gt;
    &lt;c:set var="menulist" value="${context.menulist}"/&gt;
  }
  <strong>end:</strong> {
    &lt;c:out value="&lt;!-- document end --&gt;\n"/&gt;
  }
}
#username {
  value:  username;
}
#menu {
  value:  menu;
  logic: {
    &lt;c:forEach var="menu" items="${menulist}"&gt;
      _elem();
    &lt;/c:forEach&gt;
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl -p ex-begin.plogic ex-begin.pdata
&lt;%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
    <strong>&lt;c:set var="username" value="${context.username}"/&gt;</strong>
    <strong>&lt;c:set var="menulist" value="${context.menulist}"/&gt;</strong>
&lt;p&gt;Hello &lt;span&gt;${username}&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
    &lt;c:forEach var="menu" items="${menulist}"&gt;
 &lt;li&gt;${menu}&lt;/li&gt;
    &lt;/c:forEach&gt;
&lt;/ul&gt;
    <strong>&lt;c:out value="&lt;!-- document end --&gt;\n"/&gt;</strong>
</pre>
<br>

<a name="property-begin-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-begin.pdata)</div>
<pre class="program">&lt;p&gt;Hello &lt;span id="mark:username"&gt;world&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
 &lt;li id="mark:menu"&gt;menu item&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="program_caption">
presentation logic (ex-begin.plogic)</div>
<pre class="program">#DOCUMENT {
  <strong>begin:</strong> {
    $username = $context{'username'};
    @menulist = $context{'menulist'};
  }
  <strong>end:</strong> {
    print("&lt;!-- document end --&gt;\n");
  }
}
#username {
  value:  $username;
}
#menu {
  value: $menu;
  logic: {
    foreach ($menu in @menulist) {
      _elem();
    }
  }
}
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl -p ex-begin.plogic ex-begin.pdata
<strong>&lt;?     $username = $context{'username'}; !&gt;</strong>
<strong>&lt;?     @menulist = $context{'menulist'}; !&gt;</strong>
&lt;p&gt;Hello &lt;span&gt;&lt;?= $username !&gt;&lt;/span&gt;!&lt;/p&gt;
&lt;ul&gt;
&lt;?     foreach ($menu in @menulist) { !&gt;
 &lt;li&gt;&lt;?= $menu !&gt;&lt;/li&gt;
&lt;?     } !&gt;
&lt;/ul&gt;
<strong>&lt;?= "&lt;!-- document end --&gt;\n" !&gt;</strong>
</pre>
<br>

<br>


<br>


<a name="directives"></a>
<h2 class="section1">Directives</h2>
<p>Directives are commands to embed presentation logics into presentation data.
For example, <code>title="for item in @list"</code> directive represents iteration of the element.
</p>
<p>Directives are provided for '<strong>choosability</strong>'.
This is very important concept for Kwartz (and other products by kuwata-lab).
In Kwartz, you can separate presentation logics from presentation data, or 'mix' them.
It is the user or customer of Kwartz and not developer who determine which solution to adopt.
All Kwartz can do is to provide the both solution to users.
</p>
<p>Notice that the notation of directives are different for each target language.
For example, iteration directive is <code>title="for item in list"</code> in Ruby,
<code>title="foreach($list as $item)"</code> in PHP.
See the <code>directive notation table</code> for PHP, Java, and Perl user.
</p>
<a name="directive-elem"></a>
<h3 class="section2">elem, Elem, ELEM</h3>
<p>'elem', 'Elem', and 'ELEM' directive replaces element by expression.
</p>
<p>'Elem' directive escapes expression automatically, while 'ELEM' never escape it.
'elem' directive escapes expression when command-line option '-e' is specified
or PROPERTY_ESCAPE is true in configuration file.
</p>
<a name="directive-elem-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;b <strong>title="elem: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Elem: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ELEM: expr"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-elem.pdata
<strong>&lt;%= expr %&gt;</strong>
<strong>&lt;%=h expr %&gt;</strong>
<strong>&lt;%= expr %&gt;</strong>
</pre>
<br>

<a name="directive-elem-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;b <strong>title="elem($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Elem($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ELEM($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-elem.pdata
<strong>&lt;?php echo $expr; ?&gt;</strong>
<strong>&lt;?php echo htmlspecialchars($expr); ?&gt;</strong>
<strong>&lt;?php echo $expr; ?&gt;</strong>
</pre>
<br>

<a name="directive-elem-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;b <strong>title="elem(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Elem(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ELEM(expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-elem.pdata
<strong>${expr}</strong>
<strong>${expr}</strong>
<strong>&lt;c:out value="${expr}" escapeXml="false"/&gt;</strong>
</pre>
<br>

<a name="directive-elem-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-elem.pdata)</div>
<pre class="program">&lt;b <strong>title="elem($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Elem($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ELEM($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-elem.pdata
<strong>&lt;?= $expr !&gt;</strong>
<strong>&lt;?= encode_entities($expr) !&gt;</strong>
<strong>&lt;?= $expr !&gt;</strong>
</pre>
<br>

<br>


<a name="directive-stag"></a>
<h3 class="section2">stag, Stag, STAG</h3>
<p>'stag', 'Stag', and 'STAG' directive replaces start-tag by expression.
</p>
<p>'Stag' directive escapes expression automatically, while 'STAG' never escape it.
'stag' directive escapes expression when command-line option '-e' is specified
or PROPERTY_ESCAPE is true in configuration file.
</p>
<a name="directive-stag-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;b <strong>title="stag: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Stag: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="STAG: expr"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-stag.pdata
<strong>&lt;%= expr %&gt;</strong>foo&lt;/b&gt;
<strong>&lt;%=h expr %&gt;</strong>foo&lt;/b&gt;
<strong>&lt;%= expr %&gt;</strong>foo&lt;/b&gt;
</pre>
<br>

<a name="directive-stag-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;b <strong>title="stag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Stag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="STAG($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-stag.pdata
<strong>&lt;?php echo $expr; ?&gt;</strong>foo&lt;/b&gt;
<strong>&lt;?php echo htmlspecialchars($expr); ?&gt;</strong>foo&lt;/b&gt;
<strong>&lt;?php echo $expr; ?&gt;</strong>foo&lt;/b&gt;
</pre>
<br>

<a name="directive-stag-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;b <strong>title="stag(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Stag(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="STAG(expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-stag.pdata
<strong>${expr}</strong>foo&lt;/b&gt;
<strong>${expr}</strong>foo&lt;/b&gt;
<strong>&lt;c:out value="${expr}" escapeXml="false"/&gt;</strong>foo&lt;/b&gt;
</pre>
<br>

<a name="directive-stag-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-stag.pdata)</div>
<pre class="program">&lt;b <strong>title="stag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Stag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="STAG($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-stag.pdata
<strong>&lt;?= $expr !&gt;</strong>foo&lt;/b&gt;
<strong>&lt;?= encode_entities($expr) !&gt;</strong>foo&lt;/b&gt;
<strong>&lt;?= $expr !&gt;</strong>foo&lt;/b&gt;
</pre>
<br>

<br>


<a name="directive-etag"></a>
<h3 class="section2">etag, Etag, ETAG</h3>
<p>'etag', 'Etag', and 'ETAG' directive replaces start-tag by expression.
</p>
<p>'Etag' directive escapes expression automatically, while 'ETAG' never escape it.
'etag' directive escapes expression when command-line option '-e' is specified
or PROPERTY_ESCAPE is true in configuration file.
</p>
<a name="directive-etag-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;b <strong>title="etag: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Etag: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ETAG: expr"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-etag.pdata
&lt;b&gt;foo<strong>&lt;%= expr %&gt;</strong>
&lt;b&gt;foo<strong>&lt;%=h expr %&gt;</strong>
&lt;b&gt;foo<strong>&lt;%= expr %&gt;</strong>
</pre>
<br>

<a name="directive-etag-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;b <strong>title="etag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Etag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ETAG($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-etag.pdata
&lt;b&gt;foo<strong>&lt;?php echo $expr; ?&gt;</strong>
&lt;b&gt;foo<strong>&lt;?php echo htmlspecialchars($expr); ?&gt;</strong>
&lt;b&gt;foo<strong>&lt;?php echo $expr; ?&gt;</strong>
</pre>
<br>

<a name="directive-etag-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;b <strong>title="etag(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Etag(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ETAG(expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-etag.pdata
&lt;b&gt;foo<strong>${expr}</strong>
&lt;b&gt;foo<strong>${expr}</strong>
&lt;b&gt;foo<strong>&lt;c:out value="${expr}" escapeXml="false"/&gt;</strong>
</pre>
<br>

<a name="directive-etag-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-etag.pdata)</div>
<pre class="program">&lt;b <strong>title="etag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Etag($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="ETAG($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-etag.pdata
&lt;b&gt;foo<strong>&lt;?= $expr !&gt;</strong>
&lt;b&gt;foo<strong>&lt;?= encode_entities($expr) !&gt;</strong>
&lt;b&gt;foo<strong>&lt;?= $expr !&gt;</strong>
</pre>
<br>

<br>


<a name="directive-cont"></a>
<h3 class="section2">cont, Cont, CONT</h3>
<p>'cont', 'Cont', and 'CONT' directives replace content by expression.
</p>
<p>'Cont' directive escapes expression automatically, while 'CONT' never escape it.
'cont' directive escapes expression when command-line option '-e' is specified
or PROPERTY_ESCAPE is true in configuration file.
</p>
<a name="directive-cont-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;b <strong>title="cont: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Cont: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="CONT: expr"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-cont.pdata
&lt;b&gt;<strong>&lt;%= expr %&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;%=h expr %&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;%= expr %&gt;</strong>&lt;/b&gt;
</pre>
<br>

<a name="directive-cont-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;b <strong>title="cont($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Cont($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="CONT($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-cont.pdata
&lt;b&gt;<strong>&lt;?php echo $expr; ?&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?php echo htmlspecialchars($expr); ?&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?php echo $expr; ?&gt;</strong>&lt;/b&gt;
</pre>
<br>

<a name="directive-cont-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;b <strong>title="cont(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Cont(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="CONT(expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-cont.pdata
&lt;b&gt;<strong>${expr}</strong>&lt;/b&gt;
&lt;b&gt;<strong>${expr}</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;c:out value="${expr}" escapeXml="false"/&gt;</strong>&lt;/b&gt;
</pre>
<br>

<a name="directive-cont-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-cont.pdata)</div>
<pre class="program">&lt;b <strong>title="cont($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Cont($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="CONT($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-cont.pdata
&lt;b&gt;<strong>&lt;?= $expr !&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?= encode_entities($expr) !&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?= $expr !&gt;</strong>&lt;/b&gt;
</pre>
<br>

<br>


<a name="directive-value"></a>
<h3 class="section2">value, Value, VALUE</h3>
<p>'value', 'Value', and 'VALUE' directives are equivalent to
'cont', 'Cont', and 'CONT' directives respectively.
</p>
<a name="directive-value-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;b <strong>title="value: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Value: expr"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="VALUE: expr"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-value.pdata
&lt;b&gt;<strong>&lt;%= expr %&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;%=h expr %&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;%= expr %&gt;</strong>&lt;/b&gt;
</pre>
<br>

<a name="directive-value-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;b <strong>title="value($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Value($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="VALUE($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-value.pdata
&lt;b&gt;<strong>&lt;?php echo $expr; ?&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?php echo htmlspecialchars($expr); ?&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?php echo $expr; ?&gt;</strong>&lt;/b&gt;
</pre>
<br>

<a name="directive-value-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;b <strong>title="value(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Value(expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="VALUE(expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-value.pdata
&lt;b&gt;<strong>${expr}</strong>&lt;/b&gt;
&lt;b&gt;<strong>${expr}</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;c:out value="${expr}" escapeXml="false"/&gt;</strong>&lt;/b&gt;
</pre>
<br>

<a name="directive-value-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-value.pdata)</div>
<pre class="program">&lt;b <strong>title="value($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="Value($expr)"</strong>&gt;foo&lt;/b&gt;
&lt;b <strong>title="VALUE($expr)"</strong>&gt;foo&lt;/b&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-value.pdata
&lt;b&gt;<strong>&lt;?= $expr !&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?= encode_entities($expr) !&gt;</strong>&lt;/b&gt;
&lt;b&gt;<strong>&lt;?= $expr !&gt;</strong>&lt;/b&gt;
</pre>
<br>

<br>


<a name="directive-foreach"></a>
<h3 class="section2">foreach</h3>
<p>'foreach' directive interates element, while 'loop' directive iterates content.
</p>
<a name="directive-foreach-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-foreach.pdata)</div>
<pre class="program">&lt;tr <strong>title="for item in list"</strong>&gt;
  &lt;td title="cont item"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="for key,value in hash"</strong>&gt;
  &lt;td title="cont key"&gt;key&lt;/td&gt;
  &lt;td title="cont value"&gt;value&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-foreach.pdata
<strong>&lt;% for item in list do %&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;% end %&gt;</strong>

<strong>&lt;% hash.each do |key, value| %&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;%= key %&gt;&lt;/td&gt;
  &lt;td&gt;&lt;%= value %&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;% end %&gt;</strong>
</pre>
<br>

<a name="directive-foreach-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-foreach.pdata)</div>
<pre class="program">&lt;tr <strong>title="foreach($list as $item)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="foreach($hash as $key=&gt;$value)"</strong>&gt;
  &lt;td title="cont($key)"&gt;key&lt;/td&gt;
  &lt;td title="cont($value)"&gt;value&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-foreach.pdata
<strong>&lt;?php foreach ($list as $item) { ?&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?php echo $item; ?&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;?php } ?&gt;</strong>

<strong>&lt;?php foreach ($hash as $key=&gt;$value) { ?&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?php echo $key; ?&gt;&lt;/td&gt;
  &lt;td&gt;&lt;?php echo $value; ?&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;?php } ?&gt;</strong>
</pre>
<br>

<a name="directive-foreach-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-foreach.pdata)</div>
<pre class="program">&lt;tr <strong>title="for(item: list)"</strong>&gt;
  &lt;td title="cont(item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="forEach('var'=&gt;'v', 'items'=&gt;'${params.list}', 'varStatus'=&gt;'status')"</strong>&gt;
  &lt;td title="cont(status.index)"&gt;1&lt;/td&gt;
  &lt;td title="cont(v)"&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="forEach('var'=&gt;'n', 'begin'=&gt;1, 'end'=&gt;10, 'step'=&gt;2)"</strong>&gt;
  &lt;td title="cont(n)"&gt;key&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-foreach.pdata
<strong>&lt;c:forEach var="item" items="${list}"&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;${item}&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;/c:forEach&gt;</strong>

<strong>&lt;c:forEach var="v" items="${params.list}" varStatus="status"&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;${status.index}&lt;/td&gt;
  &lt;td&gt;${v}&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;/c:forEach&gt;</strong>

<strong>&lt;c:forEach var="n" begin="1" end="10" step="2"&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;${n}&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;/c:forEach&gt;</strong>
</pre>
<br>

<a name="directive-foreach-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-foreach.pdata)</div>
<pre class="program">&lt;tr <strong>title="foreach($item in @list)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="foreach($key,$value in %hash)"</strong>&gt;
  &lt;td title="cont($key)"&gt;key&lt;/td&gt;
  &lt;td title="cont($value)"&gt;value&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-foreach.pdata
<strong>&lt;? foreach my $item (@list) { !&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?= $item !&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;? } !&gt;</strong>

<strong>&lt;? foreach my $key (keys %hash) { !&gt;</strong>
<strong>&lt;?   my $value = $hash{$key}; !&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?= $key !&gt;&lt;/td&gt;
  &lt;td&gt;&lt;?= $value !&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;? } !&gt;</strong>
</pre>
<br>

<br>


<a name="directive-list"></a>
<h3 class="section2">list</h3>
<p>'list' directive interates content, while 'foreach' directive iterates element.
</p>
<a name="directive-list-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-list.pdata)</div>
<pre class="program">&lt;tr <strong>title="list item in list"</strong>&gt;
  &lt;td title="cont item"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="list key,value in hash"</strong>&gt;
  &lt;td title="cont key"&gt;key&lt;/td&gt;
  &lt;td title="cont value"&gt;value&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-list.pdata
&lt;tr&gt;
<strong>&lt;% for item in list do %&gt;</strong>
  &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
<strong>&lt;% end %&gt;</strong>
&lt;/tr&gt;

&lt;tr&gt;
<strong>&lt;% hash.each do |key, value| %&gt;</strong>
  &lt;td&gt;&lt;%= key %&gt;&lt;/td&gt;
  &lt;td&gt;&lt;%= value %&gt;&lt;/td&gt;
<strong>&lt;% end %&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-list-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-list.pdata)</div>
<pre class="program">&lt;tr <strong>title="list($list as $item)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="list($hash as $key=&gt;$value)"</strong>&gt;
  &lt;td title="cont($key)"&gt;key&lt;/td&gt;
  &lt;td title="cont($value)"&gt;value&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-list.pdata
&lt;tr&gt;
<strong>&lt;?php foreach ($list as $item) { ?&gt;</strong>
  &lt;td&gt;&lt;?php echo $item; ?&gt;&lt;/td&gt;
<strong>&lt;?php } ?&gt;</strong>
&lt;/tr&gt;

&lt;tr&gt;
<strong>&lt;?php foreach ($hash as $key=&gt;$value) { ?&gt;</strong>
  &lt;td&gt;&lt;?php echo $key; ?&gt;&lt;/td&gt;
  &lt;td&gt;&lt;?php echo $value; ?&gt;&lt;/td&gt;
<strong>&lt;?php } ?&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-list-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-list.pdata)</div>
<pre class="program">&lt;tr <strong>title="list(item: list)"</strong>&gt;
  &lt;td title="cont(item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-list.pdata
&lt;tr&gt;
<strong>&lt;c:forEach var="item" items="${list}"&gt;</strong>
  &lt;td&gt;${item}&lt;/td&gt;
<strong>&lt;/c:forEach&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-list-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-list.pdata)</div>
<pre class="program">&lt;tr <strong>title="list($item in @list)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="list($key,$value in %hash)"</strong>&gt;
  &lt;td title="cont($key)"&gt;key&lt;/td&gt;
  &lt;td title="cont($value)"&gt;value&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-list.pdata
&lt;tr&gt;
<strong>&lt;? foreach my $item (@list) { !&gt;</strong>
  &lt;td&gt;&lt;?= $item !&gt;&lt;/td&gt;
<strong>&lt;? } !&gt;</strong>
&lt;/tr&gt;

&lt;tr&gt;
<strong>&lt;? foreach my $key (keys %hash) { !&gt;</strong>
<strong>&lt;?   my $value = $hash{$key}; !&gt;</strong>
  &lt;td&gt;&lt;?= $key !&gt;&lt;/td&gt;
  &lt;td&gt;&lt;?= $value !&gt;&lt;/td&gt;
<strong>&lt;? } !&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<br>


<a name="directive-foreach_ctr"></a>
<h3 class="section2">Foreach, List</h3>
<p>'Foreach' and 'List' directives iterate element or content with loop counter
(starting with 1).
</p>
<a name="directive-foreach_ctr-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-foreach_ctr.pdata)</div>
<pre class="program">&lt;tr <strong>title="For item in list"</strong>&gt;
  &lt;td title="cont item"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="List item in list"</strong>&gt;
  &lt;td title="cont item"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-foreach_ctr.pdata
<strong>&lt;% item_ctr = 0 %&gt;</strong>
<strong>&lt;% for item in list do %&gt;</strong>
<strong>&lt;%   item_ctr += 1 %&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;% end %&gt;</strong>

&lt;tr&gt;
<strong>&lt;% item_ctr = 0 %&gt;</strong>
<strong>&lt;% for item in list do %&gt;</strong>
<strong>&lt;%   item_ctr += 1 %&gt;</strong>
  &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
<strong>&lt;% end %&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-foreach_ctr-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-foreach_ctr.pdata)</div>
<pre class="program">&lt;tr <strong>title="Foreach($list as $item)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="List($list as $item)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-foreach_ctr.pdata
<strong>&lt;?php $item_ctr = 0; ?&gt;</strong>
<strong>&lt;?php foreach ($list as $item) { ?&gt;</strong>
<strong>&lt;?php   $item_ctr++; ?&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?php echo $item; ?&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;?php } ?&gt;</strong>

&lt;tr&gt;
<strong>&lt;?php $item_ctr = 0; ?&gt;</strong>
<strong>&lt;?php foreach ($list as $item) { ?&gt;</strong>
<strong>&lt;?php   $item_ctr++; ?&gt;</strong>
  &lt;td&gt;&lt;?php echo $item; ?&gt;&lt;/td&gt;
<strong>&lt;?php } ?&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-foreach_ctr-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-foreach_ctr.pdata)</div>
<pre class="program">&lt;tr <strong>title="For(item: list)"</strong>&gt;
  &lt;td title="cont(item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="List(item: list)"</strong>&gt;
  &lt;td title="cont(item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-foreach_ctr.pdata
<strong>&lt;c:forEach var="item" items="${list}" varStatus="item_status"&gt;</strong>
<strong>&lt;c:set var="item_ctr" value="${item_status.count}"/&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;${item}&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;/c:forEach&gt;</strong>

&lt;tr&gt;
<strong>&lt;c:forEach var="item" items="${list}" varStatus="item_status"&gt;</strong>
<strong>&lt;c:set var="item_ctr" value="${item_status.count}"/&gt;</strong>
  &lt;td&gt;${item}&lt;/td&gt;
<strong>&lt;/c:forEach&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-foreach_ctr-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-foreach_ctr.pdata)</div>
<pre class="program">&lt;tr <strong>title="Foreach($item in @list)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="List($item in @list)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-foreach_ctr.pdata
<strong>&lt;? my $item_ctr = 0; !&gt;</strong>
<strong>&lt;? foreach my $item (@list) { !&gt;</strong>
<strong>&lt;?   $item_ctr++; !&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?= $item !&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;? } !&gt;</strong>

&lt;tr&gt;
<strong>&lt;? my $item_ctr = 0; !&gt;</strong>
<strong>&lt;? foreach my $item (@list) { !&gt;</strong>
<strong>&lt;?   $item_ctr++; !&gt;</strong>
  &lt;td&gt;&lt;?= $item !&gt;&lt;/td&gt;
<strong>&lt;? } !&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<br>


<a name="directive-foreach_tgl"></a>
<h3 class="section2">FOREACH, LIST</h3>
<p>'FOREACH' and 'LIST' directives iterate element or content with loop counter
and toggle variable.
Toggle values are "'odd'" and "'even'" in default.
You can change them by command-line option '--odd' and '--even'
or by properties(PROPERTY_ODD, PROPERTY_EVEN) in configuration file.
</p>
<a name="directive-foreach_tgl-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-foreach_tgl.pdata)</div>
<pre class="program">&lt;tr <strong>title="FOR item in list"</strong>&gt;
  &lt;td title="cont item"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="LIST item in list"</strong>&gt;
  &lt;td title="cont item"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-foreach_tgl.pdata
<strong>&lt;% item_ctr = 0 %&gt;</strong>
<strong>&lt;% for item in list do %&gt;</strong>
<strong>&lt;%   item_ctr += 1 %&gt;</strong>
<strong>&lt;%   item_tgl = item_ctr%2==0 ? 'even' : 'odd' %&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;% end %&gt;</strong>

&lt;tr&gt;
<strong>&lt;% item_ctr = 0 %&gt;</strong>
<strong>&lt;% for item in list do %&gt;</strong>
<strong>&lt;%   item_ctr += 1 %&gt;</strong>
<strong>&lt;%   item_tgl = item_ctr%2==0 ? 'even' : 'odd' %&gt;</strong>
  &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
<strong>&lt;% end %&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-foreach_tgl-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-foreach_tgl.pdata)</div>
<pre class="program">&lt;tr <strong>title="FOREACH($list as $item)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="LIST($list as $item)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-foreach_tgl.pdata
<strong>&lt;?php $item_ctr = 0; ?&gt;</strong>
<strong>&lt;?php foreach ($list as $item) { ?&gt;</strong>
<strong>&lt;?php   $item_ctr++; ?&gt;</strong>
<strong>&lt;?php   $item_tgl = $item_ctr%2==0 ? 'even' : 'odd'; ?&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?php echo $item; ?&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;?php } ?&gt;</strong>

&lt;tr&gt;
<strong>&lt;?php $item_ctr = 0; ?&gt;</strong>
<strong>&lt;?php foreach ($list as $item) { ?&gt;</strong>
<strong>&lt;?php   $item_ctr++; ?&gt;</strong>
<strong>&lt;?php   $item_tgl = $item_ctr%2==0 ? 'even' : 'odd'; ?&gt;</strong>
  &lt;td&gt;&lt;?php echo $item; ?&gt;&lt;/td&gt;
<strong>&lt;?php } ?&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-foreach_tgl-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-foreach_tgl.pdata)</div>
<pre class="program">&lt;tr <strong>title="FOR(item: list)"</strong>&gt;
  &lt;td title="cont(item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="LIST(item: list)"</strong>&gt;
  &lt;td title="cont(item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-foreach_tgl.pdata
<strong>&lt;c:forEach var="item" items="${list}" varStatus="item_status"&gt;</strong>
<strong>&lt;c:set var="item_ctr" value="${item_status.count}"/&gt;</strong>
<strong>&lt;c:set var="item_tgl" value="${item_status.count%2==0 ? 'even' : 'odd'}"/&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;${item}&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;/c:forEach&gt;</strong>

&lt;tr&gt;
<strong>&lt;c:forEach var="item" items="${list}" varStatus="item_status"&gt;</strong>
<strong>&lt;c:set var="item_ctr" value="${item_status.count}"/&gt;</strong>
<strong>&lt;c:set var="item_tgl" value="${item_status.count%2==0 ? 'even' : 'odd'}"/&gt;</strong>
  &lt;td&gt;${item}&lt;/td&gt;
<strong>&lt;/c:forEach&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-foreach_tgl-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-foreach_tgl.pdata)</div>
<pre class="program">&lt;tr <strong>title="FOREACH($item in @list)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="LIST($item in @list)"</strong>&gt;
  &lt;td title="cont($item)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-foreach_tgl.pdata
<strong>&lt;? my $item_ctr = 0; !&gt;</strong>
<strong>&lt;? foreach my $item (@list) { !&gt;</strong>
<strong>&lt;?   $item_ctr++; !&gt;</strong>
<strong>&lt;?   my $item_tgl = $item_ctr%2==0 ? 'even' : 'odd'; !&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?= $item !&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;? } !&gt;</strong>

&lt;tr&gt;
<strong>&lt;? my $item_ctr = 0; !&gt;</strong>
<strong>&lt;? foreach my $item (@list) { !&gt;</strong>
<strong>&lt;?   $item_ctr++; !&gt;</strong>
<strong>&lt;?   my $item_tgl = $item_ctr%2==0 ? 'even' : 'odd'; !&gt;</strong>
  &lt;td&gt;&lt;?= $item !&gt;&lt;/td&gt;
<strong>&lt;? } !&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<br>


<a name="directive-while"></a>
<h3 class="section2">while, loop</h3>
<p>'while' and 'loop' directive iterates element or content
until conditional expression is false.
</p>
<p>JSTL doesn't support these directives because JSTL doesn't have
'while' custom tag.
</p>
<a name="directive-while-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-while.pdata)</div>
<pre class="program">&lt;tr <strong>title="while (item = dbh.fetch) != nil"</strong>&gt;
  &lt;td title="cont item.name"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="loop (item = dbh.fetch) != nil"</strong>&gt;
  &lt;td title="cont item.name"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-while.pdata
<strong>&lt;% while (item = dbh.fetch) != nil do %&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;%= item.name %&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;% end %&gt;</strong>

&lt;tr&gt;
<strong>&lt;% while (item = dbh.fetch) != nil do %&gt;</strong>
  &lt;td&gt;&lt;%= item.name %&gt;&lt;/td&gt;
<strong>&lt;% end %&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-while-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-while.pdata)</div>
<pre class="program">&lt;tr <strong>title="while(($item = $dbh-&gt;fetch()) != null)"</strong>&gt;
  &lt;td title="cont($item-&gt;name)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="loop(($item = $dbh-&gt;fetch()) != null)"</strong>&gt;
  &lt;td title="cont($item-&gt;name)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-while.pdata
<strong>&lt;?php while (($item = $dbh-&gt;fetch()) != null) { ?&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?php echo $item-&gt;name; ?&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;?php } ?&gt;</strong>

&lt;tr&gt;
<strong>&lt;?php while (($item = $dbh-&gt;fetch()) != null) { ?&gt;</strong>
  &lt;td&gt;&lt;?php echo $item-&gt;name; ?&gt;&lt;/td&gt;
<strong>&lt;?php } ?&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<a name="directive-while-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-while.pdata)</div>
<pre class="program">*** not supported ***
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-while.pdata
*** not supported ***
</pre>
<br>

<a name="directive-while-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-while.pdata)</div>
<pre class="program">&lt;tr <strong>title="while(($item = $dbh-&gt;fetch()) != null)"</strong>&gt;
  &lt;td title="cont($item-&gt;name)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;

&lt;tr <strong>title="loop(($item = $dbh-&gt;fetch()) != null)"</strong>&gt;
  &lt;td title="cont($item-&gt;name)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-while.pdata
<strong>&lt;? while (($item = $dbh-&gt;fetch()) != null) { !&gt;</strong>
&lt;tr&gt;
  &lt;td&gt;&lt;?= $item-&gt;name !&gt;&lt;/td&gt;
&lt;/tr&gt;
<strong>&lt;? } !&gt;</strong>

&lt;tr&gt;
<strong>&lt;? while (($item = $dbh-&gt;fetch()) != null) { !&gt;</strong>
  &lt;td&gt;&lt;?= $item-&gt;name !&gt;&lt;/td&gt;
<strong>&lt;? } !&gt;</strong>
&lt;/tr&gt;
</pre>
<br>

<br>


<a name="directive-if"></a>
<h3 class="section2">if-then-else</h3>
<p>'if', 'elsif'(or 'elseif'), and 'else' directives represent conditional branch.
</p>
<p>Don't separate with empty lines between end-tag of 'if'/'elseif' directive and
start-tag of 'elseif'/'else' directive.
</p>
<a name="directive-if-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-if.pdata)</div>
<pre class="program">&lt;div <strong>title="if status=='error'"</strong>&gt;
  &lt;p class="error" title="cont mesg"&gt;error&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="elsif status=='warning'"</strong>&gt;
  &lt;p class="warning" title="cont mesg"&gt;waring&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="else"</strong>&gt;
  &lt;p title="cont mesg"&gt;mesg&lt;/p&gt;
&lt;/div&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-if.pdata
<strong>&lt;% if status=='error' then %&gt;</strong>
&lt;div&gt;
  &lt;p class="error"&gt;&lt;%= mesg %&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;% elsif status=='warning' then %&gt;</strong>
&lt;div&gt;
  &lt;p class="warning"&gt;&lt;%= mesg %&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;% else %&gt;</strong>
&lt;div&gt;
  &lt;p&gt;&lt;%= mesg %&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;% end %&gt;</strong>
</pre>
<br>

<a name="directive-if-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-if.pdata)</div>
<pre class="program">&lt;div <strong>title="if($status=='error')"</strong>&gt;
  &lt;p class="error" title="cont($mesg)"&gt;error&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="elseif($status=='warning')"</strong>&gt;
  &lt;p class="warning" title="cont($mesg)"&gt;waring&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="else"</strong>&gt;
  &lt;p title="cont($mesg)"&gt;mesg&lt;/p&gt;
&lt;/div&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-if.pdata
<strong>&lt;?php if ($status=='error') { ?&gt;</strong>
&lt;div&gt;
  &lt;p class="error"&gt;&lt;?php echo $mesg; ?&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;?php } elseif ($status=='warning') { ?&gt;</strong>
&lt;div&gt;
  &lt;p class="warning"&gt;&lt;?php echo $mesg; ?&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;?php } else { ?&gt;</strong>
&lt;div&gt;
  &lt;p&gt;&lt;?php echo $mesg; ?&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;?php } ?&gt;</strong>
</pre>
<br>

<a name="directive-if-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-if.pdata)</div>
<pre class="program">&lt;div <strong>title="if(status=='error')"</strong>&gt;
  &lt;p class="error" title="cont(mesg)"&gt;error&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="elseif(status=='warning')"</strong>&gt;
  &lt;p class="warning" title="cont(mesg)"&gt;waring&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="else"</strong>&gt;
  &lt;p title="cont(mesg)"&gt;mesg&lt;/p&gt;
&lt;/div&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-if.pdata
<strong>&lt;c:choose&gt;&lt;c:when test="${status=='error'}"&gt;</strong>
&lt;div&gt;
  &lt;p class="error"&gt;${mesg}&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;/c:when&gt;&lt;c:when test="${status=='warning'}"&gt;</strong>
&lt;div&gt;
  &lt;p class="warning"&gt;${mesg}&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;/c:when&gt;&lt;c:otherwise&gt;</strong>
&lt;div&gt;
  &lt;p&gt;${mesg}&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;/c:otherwise&gt;&lt;/c:choose&gt;</strong>
</pre>
<br>

<a name="directive-if-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-if.pdata)</div>
<pre class="program">&lt;div <strong>title="if($status=='error')"</strong>&gt;
  &lt;p class="error" title="cont($mesg)"&gt;error&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="elsif($status=='warning')"</strong>&gt;
  &lt;p class="warning" title="cont($mesg)"&gt;waring&lt;/p&gt;
&lt;/div&gt;
&lt;div <strong>title="else"</strong>&gt;
  &lt;p title="cont($mesg)"&gt;mesg&lt;/p&gt;
&lt;/div&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-if.pdata
<strong>&lt;? if ($status=='error') { !&gt;</strong>
&lt;div&gt;
  &lt;p class="error"&gt;&lt;?= $mesg !&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;? } elsif ($status=='warning') { !&gt;</strong>
&lt;div&gt;
  &lt;p class="warning"&gt;&lt;?= $mesg !&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;? } else { !&gt;</strong>
&lt;div&gt;
  &lt;p&gt;&lt;?= $mesg !&gt;&lt;/p&gt;
&lt;/div&gt;
<strong>&lt;? } !&gt;</strong>
</pre>
<br>

<br>


<a name="directive-set"></a>
<h3 class="section2">set</h3>
<p>'set' directive executes any expression.
</p>
<a name="directive-set-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-set.pdata)</div>
<pre class="program">&lt;tr <strong>title="set color=i%2==0 ? 'red' : 'blue'"</strong>&gt;
 &lt;td title="cont: color"&gt;red&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-set.pdata
<strong>&lt;% color=i%2==0 ? 'red' : 'blue' %&gt;</strong>
&lt;tr&gt;
 &lt;td&gt;&lt;%= color %&gt;&lt;/td&gt;
&lt;/tr&gt;
</pre>
<br>

<a name="directive-set-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-set.pdata)</div>
<pre class="program">&lt;tr <strong>title="set($color=$i%2==0 ? 'red' : 'blue')"</strong>&gt;
 &lt;td title="cont($color)"&gt;red&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-set.pdata
<strong>&lt;?php $color=$i%2==0 ? 'red' : 'blue'; ?&gt;</strong>
&lt;tr&gt;
 &lt;td&gt;&lt;?php echo $color; ?&gt;&lt;/td&gt;
&lt;/tr&gt;
</pre>
<br>

<a name="directive-set-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-set.pdata)</div>
<pre class="program">&lt;tr <strong>title="set(color=i%2==0 ? 'red' : 'blue')"</strong>&gt;
 &lt;td title="cont(color)"&gt;red&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-set.pdata
<strong>&lt;c:set var="color=i%2=" value="${0 ? 'red' : 'blue'}"/&gt;</strong>
&lt;tr&gt;
 &lt;td&gt;${color}&lt;/td&gt;
&lt;/tr&gt;
</pre>
<br>

<a name="directive-set-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-set.pdata)</div>
<pre class="program">&lt;tr <strong>title="set($color=i%2==0 ? 'red' : 'blue')"</strong>&gt;
 &lt;td title="cont($color)"&gt;red&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-set.pdata
<strong>&lt;? $color=i%2==0 ? 'red' : 'blue'; !&gt;</strong>
&lt;tr&gt;
 &lt;td&gt;&lt;?= $color !&gt;&lt;/td&gt;
&lt;/tr&gt;
</pre>
<br>

<br>


<a name="directive-mark"></a>
<h3 class="section2">mark</h3>
<p>'mark' directive marks the element by name.
Name is used as selector of ruleset in presentation logic file.
Id attribute is equivalent to 'mark' directive if other direcitve is not specified.
</p>
<p>'mark' directive is language-independent when used with id attribute.
</p>
<a name="directive-mark-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-mark.pdata)</div>
<pre class="program">&lt;ul <strong>id="mark:list"</strong>&gt;
 &lt;li <strong>title="id: item"</strong>&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-mark.pdata
&lt;ul&gt;
 &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<a name="directive-mark-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-mark.pdata)</div>
<pre class="program">&lt;ul <strong>id="mark:list"</strong>&gt;
 &lt;li <strong>title="id(item)"</strong>&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-mark.pdata
&lt;ul&gt;
 &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<a name="directive-mark-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-mark.pdata)</div>
<pre class="program">&lt;ul <strong>id="mark:list"</strong>&gt;
 &lt;li <strong>title="id(item)"</strong>&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-mark.pdata
&lt;ul&gt;
 &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<a name="directive-mark-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-mark.pdata)</div>
<pre class="program">&lt;ul <strong>id="mark:list"</strong>&gt;
 &lt;li <strong>title="id(item)"</strong>&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-mark.pdata
&lt;ul&gt;
 &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<br>


<a name="directive-attr"></a>
<h3 class="section2">attr, Attr, ATTR</h3>
<p>'attr', 'Attr', and 'ATTR' directives replace attribute value with expression.
'Attr' directive escapes expression automatically, while 'ATTR' never escape it.
'attr' directive escapes expression when command-line option '-e' is specified
or PROPERTY_ESCAPE is true in configuration file.
</p>
<p>More than one directives are available in an element with separating by ';',
and available with other directive.
</p>
<a name="directive-attr-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-attr.pdata)</div>
<pre class="program">&lt;tr class="odd"
    title="FOR v in list; <strong>attr: 'class' v_tgl; attr: 'style' style</strong>"&gt;
 &lt;td title="cont v.name"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-attr.pdata
&lt;% v_ctr = 0 %&gt;
&lt;% for v in list do %&gt;
&lt;%   v_ctr += 1 %&gt;
&lt;%   v_tgl = v_ctr%2==0 ? 'even' : 'odd' %&gt;
&lt;tr <strong>class="&lt;%= v_tgl %&gt;"</strong> <strong>style="&lt;%= style %&gt;"&gt;</strong>
 &lt;td&gt;&lt;%= v.name %&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;% end %&gt;
</pre>
<br>

<a name="directive-attr-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-attr.pdata)</div>
<pre class="program">&lt;tr class="odd"
    title="FOREACH($list as $v); <strong>attr('class',$v_tgl); attr('style',$style)</strong>"&gt;
 &lt;td title="cont($v-&gt;name)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-attr.pdata
&lt;?php $v_ctr = 0; ?&gt;
&lt;?php foreach ($list as $v) { ?&gt;
&lt;?php   $v_ctr++; ?&gt;
&lt;?php   $v_tgl = $v_ctr%2==0 ? 'even' : 'odd'; ?&gt;
&lt;tr <strong>class="&lt;?php echo $v_tgl; ?&gt;"</strong> <strong>style="&lt;?php echo $style; ?&gt;"</strong>&gt;
 &lt;td&gt;&lt;?php echo $v-&gt;name; ?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php } ?&gt;
</pre>
<br>

<a name="directive-attr-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-attr.pdata)</div>
<pre class="program">&lt;tr class="odd"
    title="FOR(v: list); <strong>attr('class',v_tgl); attr('style',style)</strong>"&gt;
 &lt;td title="cont(v.name)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-attr.pdata
&lt;c:forEach var="v" items="${list}" varStatus="v_status"&gt;
&lt;c:set var="v_ctr" value="${v_status.count}"/&gt;
&lt;c:set var="v_tgl" value="${v_status.count%2==0 ? 'even' : 'odd'}"/&gt;
&lt;tr <strong>class="${v_tgl}"</strong> <strong>style="${style}"</strong>&gt;
 &lt;td&gt;${v.name}&lt;/td&gt;
&lt;/tr&gt;
&lt;/c:forEach&gt;
</pre>
<br>

<a name="directive-attr-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-attr.pdata)</div>
<pre class="program">&lt;tr class="odd"
    title="FOREACH($v in @list); <strong>attr('class',$v_tgl); attr('style',$style)</strong>"&gt;
 &lt;td title="cont($v-&gt;name)"&gt;foo&lt;/td&gt;
&lt;/tr&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-attr.pdata
&lt;? my $v_ctr = 0; !&gt;
&lt;? foreach my $v (@list) { !&gt;
&lt;?   $v_ctr++; !&gt;
&lt;?   my $v_tgl = $v_ctr%2==0 ? 'even' : 'odd'; !&gt;
&lt;tr <strong>class="&lt;?= $v_tgl !&gt;"</strong> <strong>style="&lt;?= $style !&gt;"</strong>&gt;
 &lt;td&gt;&lt;?= $v-&gt;name !&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;? } !&gt;
</pre>
<br>

<br>


<a name="directive-append"></a>
<h3 class="section2">append, Append, APPEND</h3>
<p>'append', 'Append', and 'APPEND' directives append expression at the end of start-tag.
'Append' directive escapes expression automatically, while 'APPEND' never escape it.
'append' directive escapes expression when command-line option '-e' is specified
or PROPERTY_ESCAPE is true in configuration file.
</p>
<p>More than one directives are available in an element with separating by ';',
and available with other directive.
</p>
<a name="directive-append-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkbox"
   <strong>title="append: flag1 ? ' checked=\'checked\'' : ''"</strong>&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-append.pdata
&lt;input type="checkbox"<strong>&lt;%= flag1 ? ' checked=\'checked\'' : '' %&gt;</strong>&gt;
</pre>
<br>

<a name="directive-append-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkbox"
   <strong>title="append($flag1 ? ' checked=\'checked\'' : '')"</strong>&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-append.pdata
&lt;input type="checkbox"<strong>&lt;?php echo $flag1 ? ' checked=\'checked\'' : ''; ?&gt;</strong>&gt;
</pre>
<br>

<a name="directive-append-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkbox"
   <strong>title="append(flag1 ? ' checked=\'checked\'' : '')"</strong>&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-append.pdata
&lt;input type="checkbox"<strong>${flag1 ? ' checked=\'checked\'' : ''}</strong>&gt;
</pre>
<br>

<a name="directive-append-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-append.pdata)</div>
<pre class="program">&lt;input type="checkbox"
   <strong>title="append($flag1 ? ' checked=\'checked\'' : '')"</strong>&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-append.pdata
&lt;input type="checkbox"<strong>&lt;?= $flag1 ? ' checked=\'checked\'' : '' !&gt;</strong>&gt;
</pre>
<br>

<br>


<a name="directive-dummy"></a>
<h3 class="section2">dummy</h3>
<p>'dummy' directive removes the element.
It is very useful when preview the HTML design in browser.
</p>
<p>'dummy' directive is language-independent when used with id attribute.
</p>
<a name="directive-dummy-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-dummy.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
  &lt;li <strong>id="dummy:d1"</strong>&gt;bar&lt;/li&gt;
  &lt;li <strong>title="dummy:"</strong>&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-dummy.pdata
&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<a name="directive-dummy-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-dummy.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
  &lt;li <strong>id="dummy:d1"</strong>&gt;bar&lt;/li&gt;
  &lt;li <strong>title="dummy()"</strong>&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-dummy.pdata
&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<a name="directive-dummy-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-dummy.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
  &lt;li <strong>id="dummy:d1"</strong>&gt;bar&lt;/li&gt;
  &lt;li <strong>title="dummy()"</strong>&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-dummy.pdata
&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<a name="directive-dummy-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-dummy.pdata)</div>
<pre class="program">&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
  &lt;li <strong>id="dummy:d1"</strong>&gt;bar&lt;/li&gt;
  &lt;li <strong>title="dummy()"</strong>&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-dummy.pdata
&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</pre>
<br>

<br>


<a name="directive-default"></a>
<h3 class="section2">default, Default, DEFAULT</h3>
<p>'default', 'Default', and 'DEFAULT' directive replaces content by expression
only if expression is not nil, false, nor empty string.
</p>
<p>'Default' directive escapes expression automatically, while 'DEFAULT' never escape it.
'default' directive escapes expression when command-line option '-e' is specified
or PROPERTY_ESCAPE is true in configuration file.
</p>
<a name="directive-default-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-default.pdata)</div>
<pre class="program">name: &lt;em <strong>title="default: user"</strong>&gt;Guest&lt;/em&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-default.pdata
name: &lt;em&gt;<strong>&lt;% if (user) &amp;&amp; !(user).to_s.empty? then %&gt;&lt;%= user %&gt;&lt;% else %&gt;Guest&lt;% end %&gt;</strong>&lt;/em&gt;
</pre>
<br>

<a name="directive-default-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-default.pdata)</div>
<pre class="program">name: &lt;em <strong>title="default($user)"</strong>&gt;Guest&lt;/em&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-default.pdata
name: &lt;em&gt;<strong>&lt;?php if ($user) { ?&gt;&lt;?php echo $user; ?&gt;&lt;?php } else { ?&gt;Guest&lt;?php } ?&gt;</strong>&lt;/em&gt;
</pre>
<br>

<a name="directive-default-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-default.pdata)</div>
<pre class="program">name: &lt;em <strong>title="default(user)"</strong>&gt;Guest&lt;/em&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-default.pdata
name: &lt;em&gt;<strong>&lt;c:out value="${user}" default="Guest"/&gt;</strong>&lt;/em&gt;
</pre>
<br>

<a name="directive-default-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-default.pdata)</div>
<pre class="program">name: &lt;em <strong>title="default($user)"</strong>&gt;Guest&lt;/em&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-default.pdata
name: &lt;em&gt;<strong>&lt;? if ($user) { !&gt;&lt;?= $user !&gt;&lt;? } else { !&gt;Guest&lt;? } !&gt;</strong>&lt;/em&gt;
</pre>
<br>

<br>


<a name="directive-replace"></a>
<h3 class="section2">replace_element/content_with_element/content</h3>
<p>'replace_element_with_element', 'replace_element_with_content',
'replace_content_with_element', and 'replace_content_with_content'
directives replace element or content with other element or content.
</p>
<p>These directives are language-independent when used with id attribute.
</p>
<a name="directive-replace-eruby"></a>
<h4 class="section3">Ruby, PHP, JSP, Perl</h4>
<div class="program_caption">
presentation data (ex-replace.pdata)</div>
<pre class="program">&lt;div <strong>id="mark:link"</strong>&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;p <strong>id="replace_element_with_element:link"</strong>&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace element with other content--&gt;
&lt;p <strong>id="replace_element_with_content:link"</strong>&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other element --&gt;
&lt;p <strong>id="replace_content_with_element:link"</strong>&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p <strong>id="replace_content_with_content:link"</strong>&gt;
  back to home
&lt;/p&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-replace.pdata
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other content--&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.

&lt;!-- replace content with other element --&gt;
&lt;p&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/p&gt;
</pre>
<br>

<br>


<a name="directive-replace2"></a>
<h3 class="section2">replace_element_with, replace_content_with</h3>
<p>'replace_element_with' and 'replace_content_with' directives replace element
or content with other element or content.
</p>
<a name="directive-replace2-eruby"></a>
<h4 class="section3">Ruby</h4>
<div class="program_caption">
presentation data (ex-replace2.pdata)</div>
<pre class="program">&lt;div <strong>id="mark:link"</strong>&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;p <strong>title="replace_element_with: element(link)"</strong>&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace element with other content--&gt;
&lt;p <strong>title="replace_element_with: content(link)"</strong>&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other element --&gt;
&lt;p <strong>title="replace_content_with: element(link)"</strong>&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p <strong>title="replace_content_with: content(link)"</strong>&gt;
  back to home
&lt;/p&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eruby ex-replace2.pdata
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other content--&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.

&lt;!-- replace content with other element --&gt;
&lt;p&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/p&gt;
</pre>
<br>

<a name="directive-replace2-php"></a>
<h4 class="section3">PHP</h4>
<div class="program_caption">
presentation data (ex-replace2.pdata)</div>
<pre class="program">&lt;div title="id(link)"&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;p title="replace_element_with(element(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace element with other content--&gt;
&lt;p title="replace_element_with(content(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other element --&gt;
&lt;p title="replace_content_with(element(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p title="replace_content_with(content(link))"&gt;
  back to home
&lt;/p&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l php ex-replace2.pdata
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other content--&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.

&lt;!-- replace content with other element --&gt;
&lt;p&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/p&gt;
</pre>
<br>

<a name="directive-replace2-jstl"></a>
<h4 class="section3">JSP</h4>
<div class="program_caption">
presentation data (ex-replace2.pdata)</div>
<pre class="program">&lt;div title="id(link)"&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;p title="replace_element_with(element(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace element with other content--&gt;
&lt;p title="replace_element_with(content(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other element --&gt;
&lt;p title="replace_content_with(element(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p title="replace_content_with(content(link))"&gt;
  back to home
&lt;/p&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l jstl ex-replace2.pdata
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other content--&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.

&lt;!-- replace content with other element --&gt;
&lt;p&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/p&gt;
</pre>
<br>

<a name="directive-replace2-eperl"></a>
<h4 class="section3">Perl</h4>
<div class="program_caption">
presentation data (ex-replace2.pdata)</div>
<pre class="program">&lt;div title="id(link)"&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;p title="replace_element_with(element(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace element with other content--&gt;
&lt;p title="replace_element_with(content(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other element --&gt;
&lt;p title="replace_content_with(element(link))"&gt;
  back to home
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p title="replace_content_with(content(link))"&gt;
  back to home
&lt;/p&gt;
</pre>
<div class="terminal_caption">
compile</div>
<pre class="terminal">$ kwartz -l eperl ex-replace2.pdata
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other element --&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;

&lt;!-- replace element with other content--&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.

&lt;!-- replace content with other element --&gt;
&lt;p&gt;
&lt;div&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/div&gt;
&lt;/p&gt;

&lt;!-- replace content with other content --&gt;
&lt;p&gt;
  back to &lt;a href="/"&gt;home&lt;/a&gt;.
&lt;/p&gt;
</pre>
<br>

<br>


<br>


<a name="cmdline"></a>
<h2 class="section1">Command-Line Options</h2>
<p>Usage:  kwartz [..options..] [-p file.plogic] file.html &gt; file.rhtml
</p>
<p>Command-line options:
</p>
<dl class="dl3" compact>
<dt class="dt3"><b>
-h             </b></dt>
<dd class="dd3">
	Show help.
</dd>
<dt class="dt3"><b>
-v             </b></dt>
<dd class="dd3">
	Show version.
</dd>
<dt class="dt3"><b>
-e             </b></dt>
<dd class="dd3">
	Escape (sanitize) expression value.
			This is an alias of '<code>--escape=true</code>'
</dd>
<dt class="dt3"><b>
-l lang        </b></dt>
<dd class="dd3">
	Target language ('eruby, 'php', 'eperl', 'rails', or 'jstl').
			Default is 'eruby'.
</dd>
<dt class="dt3"><b>
-k kanji       </b></dt>
<dd class="dd3">
	Kanji code (euc/sjis/utf8). Default is null.
</dd>
<dt class="dt3"><b>
-r library,... </b></dt>
<dd class="dd3">
	Require libraries.
</dd>
<dt class="dt3"><b>
-p plogic,...  </b></dt>
<dd class="dd3">
	Presentation logic files. Suffix '.plogic' is omittable.
</dd>
<dt class="dt3"><b>
-i pdata,...   </b></dt>
<dd class="dd3">
	Import presentation data files.
</dd>
<dt class="dt3"><b>
-L layoutfile  </b></dt>
<dd class="dd3">
	Layout file. '-L f1 f2' is equivalent to '-i f2 f1'.
</dd>
<dt class="dt3"><b>
-x elem-id     </b></dt>
<dd class="dd3">
	Extract content of element marked by elem-id.
</dd>
<dt class="dt3"><b>
-X elem-id     </b></dt>
<dd class="dd3">
	Extract element marked by elem-id.
</dd>
<dt class="dt3"><b>
-f yamlfile    </b></dt>
<dd class="dd3">
	YAML file for context values.
</dd>
<dt class="dt3"><b>
-t             </b></dt>
<dd class="dd3">
	Expand tab character in YAML file.
</dd>
<dt class="dt3"><b>
-S             </b></dt>
<dd class="dd3">
	Convert mapping key from string to symbol in YAML file.
</dd>
</dl>
<p>Command-line properties:
</p>
<dl class="dl3" compact>
<dt class="dt3"><b>
--dattr=str    </b></dt>
<dd class="dd3">
	Directive attribute name.
</dd>
<dt class="dt3"><b>
--odd=value    </b></dt>
<dd class="dd3">
	Odd value for FOREACH/LOOP directive (default "'odd'").
</dd>
<dt class="dt3"><b>
--even=value   </b></dt>
<dd class="dd3">
	Even value for FOREACH/LOOP directive (default "'even'").
</dd>
<dt class="dt3"><b>
--header=str   </b></dt>
<dd class="dd3">
	Header text.
</dd>
<dt class="dt3"><b>
--footer=str   </b></dt>
<dd class="dd3">
	Footer text.
</dd>
<dt class="dt3"><b>
--delspan={true|false} </b></dt>
<dd class="dd3">
	Delete dummy span tag (default false).
</dd>
<dt class="dt3"><b>
--escape={true|false}  </b></dt>
<dd class="dd3">
	Escape (sanitize) (default false).
</dd>
<dt class="dt3"><b>
--jstl={1.2|1.1}       </b></dt>
<dd class="dd3">
	JSTL version (default 1.2).
</dd>
<dt class="dt3"><b>
--charset=charset      </b></dt>
<dd class="dd3">
	Character-set for JSTL (default none).
</dd>
</dl>
<br>



   </div>
  </blockquote>

 </body>
</html>

###
### $Release$
### $Rev$
###
---
name:  value_part1
desc:  ...
input: |
  #foo {      value: expr;
  }
expected: |
  #foo {
    value:
      expr
  }
#
---
name:  attrs_part1
desc:  ...
input: |
  #foo {
     attrs: "id" xid, "href" "mailto:" .+ email;
  }
expected: |
  #foo {
    attrs:
      "href"
      .+
        "mailto:"
        email
      "id"
      xid
  }
#
---
name:  remove_part1
desc:  ...
input: |
  #foo {
      remove: "checked", "id", "c:flag";
  }
expected: |
  #foo {
    remove:
      "checked"
      "id"
      "c:flag"
  }
#
---
name:  append_part1
desc:  ...
input: |
  #foo {
      append: flag1 ? ' checked="checked"' : '', flag2 ? ' selected="selected"' : '';
  }
expected: |
  #foo {
    append:
      ?:
        flag1
        " checked=\"checked\""
        ""
      ?:
        flag2
        " selected=\"selected\""
        ""
  }
#
---
name:  tagname_part1
desc:  ...
input: |
  #foo {
      tagname  :  "html:html";
  }
expected: |
  #foo {
    tagname:
      "html:html"
  }
#
---
name:  plogic_part1
desc:  ...
input: |
  #foo {
      plogic : {
          foreach (item in list) {
              @stag;
              @cont;
              @etag;
          }
      }
  }
expected: |
  #foo {
    plogic:
      :block
        :foreach
          item
          list
          :block
            @stag
            @cont
            @etag
  }
#
---
name:  parse_declaration1
desc:  ...
input: |
  #user_list {
          attrs:   "bgcolor" color;   // set bgcolor attribute value
          remove:  "id";              // remove id attribute
          plogic:  {
              i = 0;
              foreach (user in user_list) {
                  i += 1;
                  color = i%2==0 ? '#CCCCFF' : '#FFCCCC';
                  @stag;              // start tag
                  @cont;              // content
                  @etag;              // end tag
              }
          }
  }
  
  #name {
          value:   user['name'];      // replace content by expression value
          remove:  "id";              // remove id attribute
  }
  
  #email {
          value:   user['email'];     // replace content by expression value
          remove:  "id";              // remove id attribute
          attrs:   "href" 'mailto:' .+ user['email'];    // set href attribute value
  }
  
  #dummy {
          plogic: { }                 // remove an element
  }
expected: |
  #user_list {
    remove:
      "id"
    attrs:
      "bgcolor"
      color
    plogic:
      :block
        :expr
          =
            i
            0
        :foreach
          user
          user_list
          :block
            :expr
              +=
                i
                1
            :expr
              =
                color
                ?:
                  ==
                    %
                      i
                      2
                    0
                  "#CCCCFF"
                  "#FFCCCC"
            @stag
            @cont
            @etag
  }
  #name {
    remove:
      "id"
    value:
      []
        user
        "name"
  }
  #email {
    remove:
      "id"
    attrs:
      "href"
      .+
        "mailto:"
        []
          user
          "email"
    value:
      []
        user
        "email"
  }
  #dummy {
    plogic:
      :block
  }

pdata: |
      <html>
       <body>
        <h1 id="doctitle">hoge</h1>
        <table id="content">
         <tr id="mark:list">
          <td id="mark:item">item</td>
         </tr>
        </table>
       </body>
      </html>

plogic*:
  eruby: &plogic_ruby |
      #doctitle {
        value: @title;
        remove: "id";
      }
      #list {
        logic: {
          for item in @list
            _elem
          end
        }
      }
      #item {
        Value: item;
      }

  ruby: *plogic_ruby
 
  php: |
      #doctitle {
        value: $title;
        remove: "id";
      }
      #list {
        logic: {
          foreach ($list as $item) {
            _elem();
          }
        }
      }
      #item {
        Value: $item;
      }

expected*:
  eruby: |
      <html>
       <body>
        <h1><%= @title %></h1>
        <table id="content">
      <%     for item in @list %>
         <tr>
          <td><%=h item %></td>
         </tr>
      <%     end %>
        </table>
       </body>
      </html>

  ruby: |
      _buf = ""; _buf << "<html>
       <body>
        <h1>"; _buf << (@title).to_s; _buf << "</h1>
        <table id=\"content\">\n";
          for item in @list
      _buf << "   <tr>
          <td>"; _buf << ERB::Util.h(item); _buf << "</td>
         </tr>\n";
          end
      _buf << "  </table>
       </body>
      </html>\n";
      ; _buf

  php: |
      <html>
       <body>
        <h1><?php echo $title; ?></h1>
        <table id="content">
      <?php     foreach ($list as $item) { ?>
         <tr>
          <td><?php echo htmlspecialchars($item); ?></td>
         </tr>
      <?php     } ?>
        </table>
       </body>
      </html>

notext*:
  eruby: |4+
      
     
            <%= @title %>
      
      <%     for item in @list %>
      
              <%=h item %>
      
      <%     end %>
      
      
      
  ruby: |
      _buf = ""; 
      
            _buf << (@title).to_s; 
      
          for item in @list
      
              _buf << ERB::Util.h(item); 
      
          end
      
      
      
      ; _buf

import_pdata: |
      <div>
      <span id="mark:sectitle">foo</span>
      </div>

import_plogic*:
  eruby: |
      #sectitle{
        elem: sectitle;
      }
  php: |
      #sectitle{
        elem: $sectitle;
      }

layout: |
      <?xml version="1.0" charset="utf8"?>
      <html>
       <head>
        <title id="replace_content_with_content:doctitle">layout file</title>
       </head>
       <body>
      
        <div id="replace_element_with_element:content">
          foo
          bar
        </div>
      
       </body>
      </html>

yamldata: |
      title:	kwartz example
      list:
      	- <aaa>
      	- b&b
      	- '"ccc"'

yamloutput: |
      <html>
       <body>
        <h1>kwartz example</h1>
        <table id="content">
         <tr>
          <td>&lt;aaa&gt;</td>
         </tr>
         <tr>
          <td>b&amp;b</td>
         </tr>
         <tr>
          <td>&quot;ccc&quot;</td>
         </tr>
        </table>
       </body>
      </html>
